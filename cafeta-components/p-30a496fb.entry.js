import{r as t,c as e,h as i,H as n,g as r}from"./p-b447a3c4.js";const o=class{constructor(i){t(this,i),this.changeOption=e(this,"changeOption",7),this.animating=!1,this.size="md",this.border=!1,this.center=!1,this.color="primary",this.options=[],this.linePosition={left:0,width:0},this.handleOptionClick=t=>()=>{const e=this._options[t];e.disabled||this.animating||(this.updateOptions(t),this.changeOption.emit(e.value))}}setOptions(t,e){JSON.stringify(t)!==JSON.stringify(e)&&(this._options=t)}animateFromToTab(t){if(0===this.linePosition.left&&0===this.linePosition.width)return;const e=t.findIndex(t=>!!t.active),i=this.wrapTabs.querySelectorAll(".tabLine__button")[e].getBoundingClientRect(),n=this.el.getBoundingClientRect(),r=i.left-n.left,o=this.calculateLinePosition({prevLeft:this.linePosition.left,nextWidth:i.width,nextLeft:r,side:this.linePosition.left<r?"toRight":"toLeft"});this.animating=!0,this.linePosition=o.firstStep,setTimeout(()=>{this.linePosition=o.secondStep,this.animating=!1},300)}animateDefaultLine(){const t=this._options.findIndex(t=>!!t.active);if(t<0)return;const e=this.wrapTabs.querySelectorAll(".tabLine__button")[t].getBoundingClientRect(),i=this.el.getBoundingClientRect();this.linePosition={left:e.left-i.left,width:e.width}}calculateLinePosition(t){return{firstStep:{left:"toRight"===t.side?t.prevLeft:t.nextLeft,width:"toRight"===t.side?t.nextLeft-t.prevLeft+t.nextWidth:t.prevLeft-t.nextLeft+t.nextWidth},secondStep:{left:t.nextLeft,width:t.nextWidth}}}updateOptions(t){const e=[...this._options].map(t=>Object.assign(Object.assign({},t),{active:!1}));e[t].active=!0,this._options=e}componentWillLoad(){this._options=this.options}componentDidLoad(){this.animateDefaultLine();var t={root:document.documentElement};new IntersectionObserver(t=>{t.forEach(()=>{this.animateDefaultLine()})},t).observe(this.el)}render(){return i(n,null,i("div",{class:{tabLine:!0,"tabLine--border":this.border,"tabLine--center":this.center},ref:t=>this.wrapTabs=t},this._options.map((t,e)=>{var n;return i("div",{class:"tabLine__buttonWrapper",key:"tabItem_"+e},i("button",{class:{tabLine__button:!0,"tabLine__button--secondary":"secondary"===this.color,"tabLine__button--sm":"sm"===this.size,"tabLine__button--active":t.active,"tabLine__button--disabled":t.disabled},onClick:this.handleOptionClick(e)},t.text),t.tag&&i("div",{class:{tabLine__tag:!0,"tabLine__tag--tabCenter":this.center},style:t.tag.color?{borderColor:t.tag.color,color:t.tag.color}:void 0},null===(n=t.tag)||void 0===n?void 0:n.text))}),i("div",{class:{tabLine__underline:!0,"tabLine__underline--secondary":"secondary"===this.color},style:{left:this.linePosition.left+"px",width:this.linePosition.width+"px"}})))}get el(){return r(this)}static get watchers(){return{options:["setOptions"],_options:["animateFromToTab"]}}};o.style=":host{display:block}.tabLine{display:-ms-flexbox;display:flex;position:relative}.tabLine__button{-webkit-appearance:button;padding:0;margin:0;font-family:inherit;cursor:pointer;background-color:transparent;background-image:none;color:inherit;border:none;font-size:100%;outline:0;margin-top:1.2rem;margin-bottom:1.2rem;margin-left:2.4rem;margin-right:2.4rem;font-size:1.4rem;font-weight:900;line-height:2.4rem}.tabLine__button--sm{font-size:1.1rem;line-height:1.6rem}.tabLine__button--disabled{color:var(--disabled-text);cursor:not-allowed}.tabLine__button--active{color:var(--primary)}.tabLine__button--active.tabLine__button--secondary{color:var(--secondary)}.tabLine__buttonWrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.tabLine__tag{font-weight:900;font-size:1.2rem;padding-left:0.4rem;padding-right:0.4rem;border-color:var(--neutral-01);color:var(--neutral-01);border-radius:0.4rem;margin-right:2.4rem;margin-left:-1.2rem;border-width:0.2rem;border-style:solid;line-height:2rem}.tabLine__tag--tabCenter{margin-right:auto}.tabLine__underline{position:absolute;background-color:var(--primary);bottom:0;border-radius:2.4rem;-webkit-transition:all 0.3s ease;transition:all 0.3s ease;height:0.3rem}.tabLine__underline--secondary{background-color:var(--secondary)}.tabLine--center{-ms-flex-pack:distribute;justify-content:space-around}.tabLine--border{border-width:0;border-bottom-width:1px;border-style:solid;border-color:var(--neutral-01)}";export{o as cc_tabs_underline}