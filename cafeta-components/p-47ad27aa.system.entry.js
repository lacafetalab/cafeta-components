var __awaiter=this&&this.__awaiter||function(e,t,r,a){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function n(e){try{c(a.next(e))}catch(t){o(t)}}function s(e){try{c(a["throw"](e))}catch(t){o(t)}}function c(e){e.done?r(e.value):i(e.value).then(n,s)}c((a=a.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,i,o,n;return n={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(n[Symbol.iterator]=function(){return this}),n;function s(e){return function(t){return c([e,t])}}function c(n){if(a)throw new TypeError("Generator is already executing.");while(r)try{if(a=1,i&&(o=n[0]&2?i["return"]:n[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;if(i=0,o)n=[n[0]&2,o.value];switch(n[0]){case 0:case 1:o=n;break;case 4:r.label++;return{value:n[1],done:false};case 5:r.label++;i=n[1];n=[0];continue;case 7:n=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(n[0]===6||n[0]===2)){r=0;continue}if(n[0]===3&&(!o||n[1]>o[0]&&n[1]<o[3])){r.label=n[1];break}if(n[0]===6&&r.label<o[1]){r.label=o[1];o=n;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(n);break}if(o[2])r.ops.pop();r.trys.pop();continue}n=t.call(e,r)}catch(s){n=[6,s];i=0}finally{a=o=0}if(n[0]&5)throw n[1];return{value:n[0]?n[1]:void 0,done:true}}};System.register(["./p-468ff255.system.js"],(function(e,t){"use strict";var r,a,i,o;return{setters:[function(e){r=e.r;a=e.c;i=e.h;o=e.H}],execute:function(){var n=function(){function e(e){var t=e.loader,r=e.serviceUpload;this.loader=t;this.serviceUpload=r}e.prototype.upload=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,r,a;return __generator(this,(function(i){switch(i.label){case 0:return[4,this.loader.file];case 1:e=i.sent();t={total:100,init:0};this.loader.uploadTotal=t.total;this.loader.uploaded=t.init;i.label=2;case 2:i.trys.push([2,4,,5]);return[4,this.serviceUpload(e)];case 3:r=i.sent();this.loader.uploaded=t.total;return[2,{default:r}];case 4:a=i.sent();throw a;case 5:return[2]}}))}))};return e}();var s=".textarea{display:block}.textarea h2,.textarea h3,.textarea h4{font-weight:900}.textarea h2{font-size:2rem}.textarea h3{font-size:1.8rem}.textarea h4{font-size:1.6rem}.textarea li{margin-left:1.6rem}.textarea ol{list-style:decimal}.textarea ul{list-style:disc}.textarea b,.textarea strong{font-weight:900}.textarea a{text-decoration:underline}.textarea.textarea--primary a{color:var(--primary)}.textarea.textarea--secondary a{color:var(--secondary)}.textarea__icon{position:absolute;bottom:0;right:0;margin-right:0.8rem;margin-bottom:0.8rem;display:-ms-flexbox;display:flex}.textarea__icon--primary{color:var(--primary)}.textarea__icon--secondary{color:var(--secondary)}.textarea__field{width:100%;border-radius:0.4rem;border-width:1px;border-color:var(--neutral-02);padding-left:1.6rem;padding-right:1.6rem;padding-top:0.8rem;padding-bottom:0.8rem;font-size:1.4rem;display:block;line-height:1.625;resize:none;min-height:13.6rem}.textarea__field--icon{padding-right:3.6rem}.textarea__field--outlined{border-top-width:0;border-left-width:0;border-right-width:0;border-bottom-width:1px}.textarea__field--auto-grow{min-height:4.2rem}.textarea__field--without-radius{border-radius:0}.textarea__field--bg-white{background-color:var(--neutral-04)}.textarea__field--bg-transparent{background-color:transparent}.textarea__field:disabled{border-color:var(--disabled-background)}.textarea--success .textarea__field{border-color:var(--success)}.textarea--error .textarea__field{border-color:var(--error)}.textarea__field:focus{outline:0}.textarea--primary .textarea__field:focus{border-color:var(--primary)}.textarea--secondary .textarea__field:focus{border-color:var(--secondary)}.textarea--success .textarea__field:focus{border-color:var(--success)}.textarea--error .textarea__field:focus{border-color:var(--error)}.textarea__field::-moz-placeholder{color:var(--neutral-02)}.textarea__field:-ms-input-placeholder{color:var(--neutral-02)}.textarea__field::-webkit-input-placeholder{color:var(--neutral-02)}.textarea__field::-ms-input-placeholder{color:var(--neutral-02)}.textarea__field::placeholder{color:var(--neutral-02)}.textarea__label{display:block;padding-top:0.4rem;padding-bottom:0.4rem;font-size:1.1rem;font-weight:900;color:var(--neutral-03)}.textarea--disabled .textarea__label{color:var(--disabled-text)}.textarea__helperText{display:block;font-size:1.1rem;margin-top:0.4rem;color:var(--error)}.textarea__richTextSkeleton{width:100%;border-radius:0.4rem;border-width:1px;border-color:var(--neutral-02);padding-left:1.6rem;padding-right:1.6rem;padding-top:0.8rem;padding-bottom:0.8rem;background-color:var(--neutral-04);font-size:1.4rem;display:block;line-height:1.625;min-height:13.6rem}.textarea__richTextSkeleton+.textarea__helperText{display:none}.textarea__counter{font-size:1.2rem;color:var(--neutral-02)}.textarea__wrapper-helper{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.textarea--bg-transparent .ck.ck-editor__main>.ck-editor__editable{background-color:transparent}.textarea--bg-white .ck.ck-editor__main>.ck-editor__editable{background-color:var(--neutral-04)}.textarea .ck.ck-toolbar{border-color:var(--neutral-02)}.textarea.textarea--disabled .ck.ck-toolbar{border-color:var(--disabled-background)}.textarea .ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.textarea .ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-top-left-radius:0.4rem;border-top-right-radius:0.4rem}.textarea .ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.textarea .ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-bottom-right-radius:0.4rem;border-bottom-left-radius:0.4rem}.textarea .ck.ck-editor__main>.ck-editor__editable.ck-focused{-webkit-box-shadow:none;box-shadow:none}.textarea .ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--neutral-02)}.textarea .ck.ck-editor__main>.ck-editor__editable:not(.ck-focused).ck-read-only{border-color:var(--disabled-background)}.textarea .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{-ms-flex-pack:end;justify-content:flex-end}.textarea.textarea--primary .ck.ck-editor__main>.ck-editor__editable.ck-focused{border-color:var(--primary)}.textarea.textarea--secondary .ck.ck-editor__main>.ck-editor__editable.ck-focused{border-color:var(--secondary)}.textarea--error .textarea{border-color:var(--error)}.textarea.textarea--success .ck.ck-editor__main>.ck-editor__editable:not(.ck-focused),.textarea.textarea--success .ck.ck-editor__main>.ck-editor__editable.ck-focused{border-color:var(--success)}.textarea.textarea--error .ck.ck-editor__main>.ck-editor__editable:not(.ck-focused),.textarea.textarea--error .ck.ck-editor__main>.ck-editor__editable.ck-focused{border-color:var(--error)}.textarea .ck.ck-editor__editable_inline>:first-child{margin-top:0.8rem}.textarea .ck.ck-editor__editable_inline>:last-child{margin-bottom:0.8rem}.textarea .ck.ck-editor__editable_inline{padding-left:1.6rem;padding-right:1.6rem;min-height:13.6rem}";var c=e("cc_textarea",function(){function e(e){var t=this;r(this,e);this.changeText=a(this,"changeText",7);this.lengthCharacter=0;this.color="primary";this.error=false;this.success=false;this.disabled=false;this.rich=false;this.outlined=false;this.autoGrow=false;this.withoutRadius=false;this.counter=false;this.bgField="white";this.enableMediaEmbed=false;this.focusEditor=function(){if(t.rich){t.editorInstance.editing.view.focus();t.putCursorAtTheEnd()}else{t.textAreaEl.focus()}}}e.prototype.focusTextEditor=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.focusEditor();return[2]}))}))};e.prototype.setDataRichEditor=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this.editorInstance.data.set(e);return[2]}))}))};e.prototype.validateName=function(e){if(this.editorInstance)this.editorInstance.isReadOnly=e};e.prototype.toggleRichText=function(e,t){if(e!==t){if(e&&!e){this.enableRichTextEditor()}else{this.disableRichTextEditor()}}};e.prototype.getAmountOfCharacters=function(){if(this.textAreaEl){return this.textAreaEl.value.length}};e.prototype.setValue=function(e){if(this.rich){if(this.editorInstance){this.editorInstance.data.set(e)}}else{this.textAreaEl.value=e}};e.prototype.changeTextHandler=function(e){if(this.autoGrow){this.textAreaEl.style.height="5px";this.textAreaEl.style.height=this.textAreaEl.scrollHeight+"px"}if(this.counter){this.lengthCharacter=e.length}this.changeText.emit(e)};e.prototype.setRichTextEditorDefaults=function(){var e=this;this.editorInstance.isReadOnly=this.disabled;if(this.value)this.editorInstance.data.set(this.value);this.editorInstance.model.document.on("change:data",(function(){e.changeTextHandler(e.editorInstance.getData())}))};e.prototype.enableRichTextEditor=function(){return __awaiter(this,void 0,void 0,(function(){var e,r,a,i;return __generator(this,(function(o){switch(o.label){case 0:e=this.toolbar||["Undo","Redo","Heading","Bold","Italic","numberedList","bulletedList","Link","blockQuote"];if(!this.rich)return[2,null];return[4,t.import("./p-7be86cd7.system.js").then((function(e){return e.c}))];case 1:r=o.sent().default;a={toolbar:e,placeholder:this.placeholder};if(!this.enableMediaEmbed){a["mediaEmbed"]={providers:[]}}if(this.enableImage&&this.imageService){e.push("imageUpload")}i=this;return[4,r.create(this.richTextEl,a)];case 2:i.editorInstance=o.sent();this.setRichTextEditorDefaults();this.setAdapterUpload(this.editorInstance);return[2,this.editorInstance]}}))}))};e.prototype.setAdapterUpload=function(e){var t=this;if(!this.enableImage&&!this.imageService){return}e.plugins.get("FileRepository").createUploadAdapter=function(e){return new n({loader:e,serviceUpload:t.imageService})}};e.prototype.disableRichTextEditor=function(){if(this.rich&&this.editorInstance)this.editorInstance.destroy()};e.prototype.putCursorAtTheEnd=function(){var e=this;this.editorInstance.model.change((function(t){t.setSelection(t.createPositionAt(e.editorInstance.model.document.getRoot(),"end"))}))};e.prototype.componentDidLoad=function(){this.enableRichTextEditor()};e.prototype.componentWillLoad=function(){if(this.value){this.lengthCharacter=this.value.length}};e.prototype.componentDidUnload=function(){this.disableRichTextEditor()};e.prototype.render=function(){var e=this;return i(o,{class:{textarea:true,relative:true,"textarea--primary":this.color==="primary","textarea--secondary":this.color==="secondary","textarea--success":this.success&&!this.error&&!this.disabled,"textarea--error":this.error&&!this.success&&!this.disabled,"textarea--disabled":this.disabled,"textarea--bg-transparent":this.bgField==="transparent","textarea--bg-white":this.bgField==="white"},"data-testid":"cc-textarea"},this.label&&i("label",{class:"textarea__label",onClick:this.focusEditor},this.label),this.rich?i("div",{class:"textarea__richTextSkeleton",ref:function(t){return e.richTextEl=t}},this.value?this.value:""):i("textarea",{rows:1,ref:function(t){return e.textAreaEl=t},disabled:this.disabled,placeholder:this.placeholder,class:{textarea__field:true,"textarea__field--outlined":this.outlined,"textarea__field--icon":!!this.iconName&&!this.rich,"textarea__field--auto-grow":this.autoGrow,"textarea__field--without-radius":this.withoutRadius,"textarea__field--bg-white":this.bgField==="white","textarea__field--bg-transparent":this.bgField==="transparent"},maxLength:this.maxLength,name:this.name,value:this.value,onInput:function(t){return e.changeTextHandler(t.target.value)}}),!!this.iconName&&!this.rich&&i("cc-icon",{class:{textarea__icon:true,"textarea__icon--primary":this.color==="primary","textarea__icon--secondary":this.color==="secondary"},name:this.iconName}),i("div",{class:"textarea__wrapper-helper"},i("div",null,this.helperText&&this.error&&!this.success&&!this.disabled&&i("span",{class:"textarea__helperText",onClick:this.focusEditor},this.helperText)),i("div",null,this.counter&&i("span",{class:"textarea__counter"},i("span",null,this.lengthCharacter),i("span",null,"/"),i("span",null,this.maxLength?this.maxLength:"maxlength is missing")))))};Object.defineProperty(e,"watchers",{get:function(){return{disabled:["validateName"],rich:["toggleRichText"],value:["setValue"]}},enumerable:false,configurable:true});return e}());c.style=s}}}));