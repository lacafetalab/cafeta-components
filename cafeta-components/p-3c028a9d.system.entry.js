var __spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,i=0,t=arguments.length;i<t;i++)e+=arguments[i].length;for(var n=Array(e),o=0,i=0;i<t;i++)for(var s=arguments[i],l=0,r=s.length;l<r;l++,o++)n[o]=s[l];return n};System.register(["./p-15492b4f.system.js"],(function(e){"use strict";var i,t,n,o;return{setters:[function(e){i=e.r;t=e.c;n=e.h;o=e.H}],execute:function(){var s="*{-webkit-box-sizing:border-box;box-sizing:border-box}.single-file-input__wrapper-icon{position:absolute;right:8px;bottom:8px;max-height:2.4rem}.single-file-input__field{padding-top:0.8rem;padding-bottom:0.8rem;padding-left:1.6rem;padding-right:1.6rem;padding-right:40px;min-height:40px}.single-file-input__field-option{margin:0;padding:0;display:none;visibility:hidden;color:var(--neutral-03);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.single-file-input__field-option--is-selected{display:block;visibility:visible}.single-file-input__field input{padding:0}.single-file-input__placeholder{color:var(--neutral-02);display:block;visibility:visible;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.single-file-input__placeholder--is-hidden{display:none;visibility:hidden}.single-file-input__options{position:absolute;width:100%;background-color:var(--neutral-04);border-radius:0.4rem;overflow:auto;padding:0;margin:0;left:0;top:calc(100% + 8px);-webkit-box-shadow:0 4px 16px -8px rgba(0, 0, 0, 0.5);box-shadow:0 4px 16px -8px rgba(0, 0, 0, 0.5);max-height:208px;display:none;z-index:1}.single-file-input__options--is-active{display:block}.single-file-input__options--top{bottom:calc(100% + 8px);top:auto}.single-file-input__option{min-height:40px;font-size:14px;line-height:20px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:10px 1.6rem;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.single-file-input__option span{margin-left:12px}.single-file-input__option:hover{background-color:var(--background-01)}.single-file-input__option--is-selected{background-color:var(--background-02);color:var(--neutral-03);font-weight:700;-webkit-transition-property:all;transition-property:all}.single-file-input__option--is-selected:hover{background-color:var(--background-02)}.single-file-input__option--is-disabled{color:var(--disabled-text)}.single-file-input__option--is-disabled:hover{cursor:not-allowed;background:transparent}.single-file-input__option--is-hidden{display:none}.single-file-input__label{padding-top:0.4rem;padding-bottom:0.4rem;font-size:1.1rem;font-weight:900;color:var(--neutral-03);display:block}";var l=e("cc_single_select_input",function(){function e(e){var n=this;i(this,e);this.changeChoice=t(this,"changeChoice",7);this._choices=[];this.isOpenDropdown=false;this.thereIsLowerSpace=false;this.positionOptionstop=false;this.valueInput="";this.hideItemsIfSelected=false;this.label="";this.error=false;this.disabled=false;this.fieldReadonly=false;this.placeholder="";this.name="";this.currentValue="";this.iconName="chevron-down";this.color="primary";this.border=true;this.bgField="";this.loader=false;this.autocomplete=false;this.IconRotate=true;this.focusInput=function(){n.inputEl.focus()};this.handleOptionClick=function(e){n.handleHideOptions();if(!n.validateIfTheNewOptionSelectedIsDifferentFromThePrevious(e)){n.clearChoices();var i=__spreadArrays(n._choices);i.filter((function(i){return i.value===e}))[0].selected=true;n._choices=__spreadArrays(i);var t=n._choices.filter((function(i){return i.value===e}))[0];n.autocomplete?n.valueInput=t.label:"";n.changeChoice.emit(t.value)}};this.placeholderSelected=function(){n.clearChoices();n.handleHideOptions();n.changeChoice.emit(null)};this.filteredChoices=function(){var e=n.valueInput.length?n._choices.filter((function(e){if(!e.selected){var i=e.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");var t=n.valueInput.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return i.includes(t)}})):n._choices;return e};this.handleShowOptions=function(){n.isOpenDropdown=true};this.handleHideOptions=function(){n.isOpenDropdown=false};this.closeDroprownIfClickOutDropdown=function(e){var i=n.singleFileInput;var t=e.target;if(!i.contains(t)){return n.handleHideOptions()}};this.getHeigthWrapperOptions=function(){return n.dropdownItems.getBoundingClientRect().height};this.observerListItems=function(){var e={attributes:true,childList:false,characterData:false};n.observerItems=new MutationObserver((function(e){e.forEach((function(e){if(e.type==="attributes"){n.calculatePositionOfOptions();if(n.autocomplete)n.focusInput()}}))}));n.observerItems.observe(n.dropdownItems,e)};this.calculatePositionOfOptions=function(){if(n.isOpenDropdown){var e=n.singleFileInput;var i=n.dropdownItems;var t=document.body.getBoundingClientRect().height;var o=i.getBoundingClientRect().height;var s=e.getBoundingClientRect().height;var l=e.getBoundingClientRect().top;var r=8;var a=l+s+r+o;return n.positionOptionstop=t<a}n.positionOptionstop=false};this.validateDisabled=function(){n.disabled?false:n.handleToogleOptions()}}e.prototype.setChoices=function(e,i){var t=JSON.stringify(e);var n=JSON.stringify(i);if(t!==n){this._choices=JSON.parse(t)}};e.prototype.clearChoices=function(){var e=__spreadArrays(this._choices);e.map((function(e){return e.selected=false}));this._choices=e};e.prototype.knowIfThereIsAnItemSelected=function(){return this._choices.filter((function(e){return e.selected===true})).length>0};e.prototype.validateIfTheNewOptionSelectedIsDifferentFromThePrevious=function(e){if(this.knowIfThereIsAnItemSelected()){var i=this._choices.filter((function(e){return e.selected}))[0].value;return i===e}return false};e.prototype.handleToogleOptions=function(){this.isOpenDropdown=!this.isOpenDropdown;this.calculatePositionOfOptions()};e.prototype.setInputValue=function(e){this.valueInput=e;if(this.valueInput.length)this.handleShowOptions()};e.prototype.componentWillLoad=function(){this._choices=JSON.parse(JSON.stringify(this.choices));document.addEventListener("click",this.closeDroprownIfClickOutDropdown)};e.prototype.componentDidLoad=function(){this.observerListItems()};e.prototype.componentDidUnload=function(){if(this.observerItems)this.observerItems.disconnect();document.removeEventListener("click",this.closeDroprownIfClickOutDropdown)};e.prototype.render=function(){var e=this;var i={disabled:this.disabled,loader:this.loader,fieldReadonly:this.fieldReadonly,color:this.color,error:this.error,border:this.border,bgField:this.bgField,isActive:this.isOpenDropdown,IconRotate:this.IconRotate,iconName:this.iconName,helperText:this.helperText};return n(o,{"data-testid":"cc-single-file-input",class:"single-file-input"},this.label&&n("span",{class:"single-file-input__label"},this.label),n("cc-wrapper-field",Object.assign({ref:function(i){return e.singleFileInput=i},class:{"single-file-input__wrapper":true,"single-file-input--is-collapse":this.isOpenDropdown}},i),n("div",{class:"single-file-input__field",onClick:this.validateDisabled},!this.autocomplete&&n("p",{class:{"single-file-input__placeholder":true,"single-file-input__placeholder--is-hidden":this.knowIfThereIsAnItemSelected()}},this.placeholder),this.autocomplete&&n("cc-input",{bgField:"bg-transparent",value:this.valueInput,placeholder:this.placeholder,border:false,ref:function(i){return e.inputEl=i},onInput:function(i){var t;return e.setInputValue((t=i.target)===null||t===void 0?void 0:t.value)}}),!this.autocomplete&&this._choices.filter((function(e){return e.selected})).map((function(e){return n("p",{class:"single-file-input__field-option--is-selected"},e.label)}))),n("ul",{ref:function(i){return e.dropdownItems=i},class:{"single-file-input__options":true,"single-file-input__options--is-active":this.isOpenDropdown,"single-file-input__options--top":this.positionOptionstop}},!this.autocomplete&&this.placeholder&&n("li",{class:{"single-file-input__placeholder":true,"single-file-input__option":true,"single-file-input__option--is-selected":!this.knowIfThereIsAnItemSelected()},onClick:this.placeholderSelected},this.placeholder),this.autocomplete&&this.filteredChoices().length>0?this.filteredChoices().map((function(i){return n("li",{onClick:function(){return i.disabled?false:e.handleOptionClick(i.value)},class:{"single-file-input__option":true,"single-file-input__option--is-selected":i.selected,"single-file-input__option--is-disabled":i.disabled}},i.label)})):this.autocomplete&&this.filteredChoices().length===0&&n("li",{class:"single-file-input__option"},"No se encontraron los resultados"),!this.autocomplete&&this._choices.map((function(i){return n("li",{onClick:function(){return i.disabled?false:e.handleOptionClick(i.value)},class:{"single-file-input__option":true,"single-file-input__option--is-selected":i.selected,"single-file-input__option--is-disabled":i.disabled,"single-file-input__option--is-hidden":e.hideItemsIfSelected&&i.invisible}},i.label," ",i.labelInfo&&n("span",null,i.labelInfo))})))))};Object.defineProperty(e,"watchers",{get:function(){return{choices:["setChoices"]}},enumerable:false,configurable:true});return e}());l.style=s}}}));