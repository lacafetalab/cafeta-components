var __extends=this&&this.__extends||function(){var t=function(e,r){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r]};return t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var __generator=this&&this.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return u([t,e])}}function u(a){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(o=a[0]&2?i["return"]:a[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:r.label++;return{value:a[1],done:false};case 5:r.label++;i=a[1];a=[0];continue;case 7:a=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(a[0]===6&&r.label<o[1]){r.label=o[1];o=a;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(a);break}if(o[2])r.ops.pop();r.trys.pop();continue}a=e.call(t,r)}catch(s){a=[6,s];i=0}finally{n=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var __spreadArrays=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n};var __values=this&&this.__values||function(t){var e=typeof Symbol==="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length==="number")return{next:function(){if(t&&n>=t.length)t=void 0;return{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};System.register([],(function(t){"use strict";return{execute:function(){t({A:$a,D:Ps,E:W,G:z,H:B,Q:ho,a:Ja,b:Ka,c:ys,d:Da,e:Ca,f:Es,g:Qa,h:Ma,i:Xa,j:Na,k:La,l:xs,o:za,q:Ha,s:qa,t:So,u:i,z:Ea});
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function e(){return function t(){t.called=true}}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var r=function(){function t(t,r){this.source=t;this.name=r;this.path=[];this.stop=e();this.off=e()}return t}();
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var n=new Array(256).fill().map((function(t,e){return("0"+e.toString(16)).slice(-2)}));function i(){var t=Math.random()*4294967296>>>0;var e=Math.random()*4294967296>>>0;var r=Math.random()*4294967296>>>0;var i=Math.random()*4294967296>>>0;return"e"+n[t>>0&255]+n[t>>8&255]+n[t>>16&255]+n[t>>24&255]+n[e>>0&255]+n[e>>8&255]+n[e>>16&255]+n[e>>24&255]+n[r>>0&255]+n[r>>8&255]+n[r>>16&255]+n[r>>24&255]+n[i>>0&255]+n[i>>8&255]+n[i>>16&255]+n[i>>24&255]}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var o=t("p",{get:function(t){if(typeof t!="number"){return this[t]||this.normal}else{return t}},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5});
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var a="https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html";var s=function(t){__extends(e,t);function e(e,r,n){var i=this;var o=""+e+(n?" "+JSON.stringify(n):"")+u(e);i=t.call(this,o)||this;i.name="CKEditorError";i.context=r;i.data=n;return i}e.prototype.is=function(t){return t==="CKEditorError"};e.rethrowUnexpectedError=function(t,r){if(t.is&&t.is("CKEditorError")){throw t}var n=new e(t.message,r);n.stack=t.stack;throw n};return e}(Error);t("y",s);function u(t){return"\nRead more: "+a+"#error-"+t}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var l="25.0.0";var c=typeof window==="object"?window:global;if(c.CKEDITOR_VERSION){throw new s("ckeditor-duplicated-modules",null)}else{c.CKEDITOR_VERSION=l}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var f=Symbol("listeningTo");var h=Symbol("emitterId");var p={on:function(t,e,r){if(r===void 0){r={}}this.listenTo(this,t,e,r)},once:function(t,e,r){var n=false;var i=function(t){var r=[];for(var i=1;i<arguments.length;i++){r[i-1]=arguments[i]}if(!n){n=true;t.off();e.call.apply(e,__spreadArrays([this,t],r))}};this.listenTo(this,t,i,r)},off:function(t,e){this.stopListening(this,t,e)},listenTo:function(t,e,r,n){if(n===void 0){n={}}var i,a;if(!this[f]){this[f]={}}var s=this[f];if(!b(t)){v(t)}var u=b(t);if(!(i=s[u])){i=s[u]={emitter:t,callbacks:{}}}if(!(a=i.callbacks[e])){a=i.callbacks[e]=[]}a.push(r);w(t,e);var l=y(t,e);var c=o.get(n.priority);var h={callback:r,priority:c};for(var p=0,d=l;p<d.length;p++){var g=d[p];var m=false;for(var _=0;_<g.length;_++){if(g[_].priority<c){g.splice(_,0,h);m=true;break}}if(!m){g.push(h)}}},stopListening:function(t,e,r){var n=this[f];var i=t&&b(t);var o=n&&i&&n[i];var a=o&&e&&o.callbacks[e];if(!n||t&&!o||e&&!a){return}if(r){E(t,e,r);var s=a.indexOf(r);if(s!==-1){if(a.length===1){delete o.callbacks[e]}else{E(t,e,r)}}}else if(a){while(r=a.pop()){E(t,e,r)}delete o.callbacks[e]}else if(o){for(e in o.callbacks){this.stopListening(t,e)}delete n[i]}else{for(i in n){this.stopListening(n[i].emitter)}delete this[f]}},fire:function(t){var e=[];for(var n=1;n<arguments.length;n++){e[n-1]=arguments[n]}try{var i=t instanceof r?t:new r(this,t);var o=i.name;var a=_(this,o);i.path.push(this);if(a){var u=__spreadArrays([i],e);a=Array.from(a);for(var l=0;l<a.length;l++){a[l].callback.apply(this,u);if(i.off.called){delete i.off.called;E(this,o,a[l].callback)}if(i.stop.called){break}}}if(this._delegations){var c=this._delegations.get(o);var f=this._delegations.get("*");if(c){k(c,i,e)}if(f){k(f,i,e)}}return i.return}catch(h){s.rethrowUnexpectedError(h,this)}},delegate:function(){var t=this;var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}return{to:function(r,n){if(!t._delegations){t._delegations=new Map}e.forEach((function(e){var i=t._delegations.get(e);if(!i){t._delegations.set(e,new Map([[r,n]]))}else{i.set(r,n)}}))}}},stopDelegating:function(t,e){if(!this._delegations){return}if(!t){this._delegations.clear()}else if(!e){this._delegations.delete(t)}else{var r=this._delegations.get(t);if(r){r.delete(e)}}}};function d(t,e){if(t[f]&&t[f][e]){return t[f][e].emitter}return null}function v(t,e){if(!t[h]){t[h]=e||i()}}function b(t){return t[h]}function g(t){if(!t._events){Object.defineProperty(t,"_events",{value:{}})}return t._events}function m(){return{callbacks:[],childEvents:[]}}function w(t,e){var r=g(t);if(r[e]){return}var n=e;var i=null;var o=[];while(n!==""){if(r[n]){break}r[n]=m();o.push(r[n]);if(i){r[n].childEvents.push(i)}i=n;n=n.substr(0,n.lastIndexOf(":"))}if(n!==""){for(var a=0,s=o;a<s.length;a++){var u=s[a];u.callbacks=r[n].callbacks.slice()}r[n].childEvents.push(i)}}function y(t,e){var r=g(t)[e];if(!r){return[]}var n=[r.callbacks];for(var i=0;i<r.childEvents.length;i++){var o=y(t,r.childEvents[i]);n=n.concat(o)}return n}function _(t,e){var r;if(!t._events||!(r=t._events[e])||!r.callbacks.length){if(e.indexOf(":")>-1){return _(t,e.substr(0,e.lastIndexOf(":")))}else{return null}}return r.callbacks}function k(t,e,n){for(var i=0,o=t;i<o.length;i++){var a=o[i],s=a[0],u=a[1];if(!u){u=e.name}else if(typeof u=="function"){u=u(e.name)}var l=new r(e.source,u);l.path=__spreadArrays(e.path);s.fire.apply(s,__spreadArrays([l],n))}}function E(t,e,r){var n=y(t,e);for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s=0;s<a.length;s++){if(a[s].callback==r){a.splice(s,1);s--}}}}var j=typeof global=="object"&&global&&global.Object===Object&&global;var x=typeof self=="object"&&self&&self.Object===Object&&self;var O=t("J",j||x||Function("return this")());var T=O.Symbol;var A=Object.prototype;var I=A.hasOwnProperty;var P=A.toString;var S=T?T.toStringTag:undefined;function C(t){var e=I.call(t,S),r=t[S];try{t[S]=undefined;var n=true}catch(o){}var i=P.call(t);if(n){if(e){t[S]=r}else{delete t[S]}}return i}var M=Object.prototype;var N=M.toString;function L(t){return N.call(t)}var D="[object Null]",V="[object Undefined]";var F=T?T.toStringTag:undefined;function z(t){if(t==null){return t===undefined?V:D}return F&&F in Object(t)?C(t):L(t)}function W(t){return t!=null&&typeof t=="object"}var R=Array.isArray;function B(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function H(t){return t}var U="[object AsyncFunction]",Y="[object Function]",G="[object GeneratorFunction]",K="[object Proxy]";function Z(t){if(!B(t)){return false}var e=z(t);return e==Y||e==G||e==U||e==K}var $=O["__core-js_shared__"];var q=function(){var t=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function J(t){return!!q&&q in t}var X=Function.prototype;var Q=X.toString;function tt(t){if(t!=null){try{return Q.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var et=/[\\^$.*+?()[\]{}|]/g;var rt=/^\[object .+?Constructor\]$/;var nt=Function.prototype,it=Object.prototype;var ot=nt.toString;var at=it.hasOwnProperty;var st=RegExp("^"+ot.call(at).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ut(t){if(!B(t)||J(t)){return false}var e=Z(t)?st:rt;return e.test(tt(t))}function lt(t,e){return t==null?undefined:t[e]}function ct(t,e){var r=lt(t,e);return ut(r)?r:undefined}var ft=ct(O,"WeakMap");var ht=Object.create;var pt=function(){function t(){}return function(e){if(!B(e)){return{}}if(ht){return ht(e)}t.prototype=e;var r=new t;t.prototype=undefined;return r}}();function dt(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function vt(t,e){var r=-1,n=t.length;e||(e=Array(n));while(++r<n){e[r]=t[r]}return e}var bt=800,gt=16;var mt=Date.now;function wt(t){var e=0,r=0;return function(){var n=mt(),i=gt-(n-r);r=n;if(i>0){if(++e>=bt){return arguments[0]}}else{e=0}return t.apply(undefined,arguments)}}function yt(t){return function(){return t}}var _t=function(){try{var t=ct(Object,"defineProperty");t({},"",{});return t}catch(e){}}();var kt=!_t?H:function(t,e){return _t(t,"toString",{configurable:true,enumerable:false,value:yt(e),writable:true})};var Et=wt(kt);function jt(t,e){var r=-1,n=t==null?0:t.length;while(++r<n){if(e(t[r],r,t)===false){break}}return t}var xt=9007199254740991;var Ot=/^(?:0|[1-9]\d*)$/;function Tt(t,e){var r=typeof t;e=e==null?xt:e;return!!e&&(r=="number"||r!="symbol"&&Ot.test(t))&&(t>-1&&t%1==0&&t<e)}function At(t,e,r){if(e=="__proto__"&&_t){_t(t,e,{configurable:true,enumerable:true,value:r,writable:true})}else{t[e]=r}}function It(t,e){return t===e||t!==t&&e!==e}var Pt=Object.prototype;var St=Pt.hasOwnProperty;function Ct(t,e,r){var n=t[e];if(!(St.call(t,e)&&It(n,r))||r===undefined&&!(e in t)){At(t,e,r)}}function Mt(t,e,r,n){var i=!r;r||(r={});var o=-1,a=e.length;while(++o<a){var s=e[o];var u=n?n(r[s],t[s],s,r,t):undefined;if(u===undefined){u=t[s]}if(i){At(r,s,u)}else{Ct(r,s,u)}}return r}var Nt=Math.max;function Lt(t,e,r){e=Nt(e===undefined?t.length-1:e,0);return function(){var n=arguments,i=-1,o=Nt(n.length-e,0),a=Array(o);while(++i<o){a[i]=n[e+i]}i=-1;var s=Array(e+1);while(++i<e){s[i]=n[i]}s[e]=r(a);return dt(t,this,s)}}function Dt(t,e){return Et(Lt(t,e,H),t+"")}var Vt=9007199254740991;function Ft(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Vt}function zt(t){return t!=null&&Ft(t.length)&&!Z(t)}function Wt(t,e,r){if(!B(r)){return false}var n=typeof e;if(n=="number"?zt(r)&&Tt(e,r.length):n=="string"&&e in r){return It(r[e],t)}return false}function Rt(t){return Dt((function(e,r){var n=-1,i=r.length,o=i>1?r[i-1]:undefined,a=i>2?r[2]:undefined;o=t.length>3&&typeof o=="function"?(i--,o):undefined;if(a&&Wt(r[0],r[1],a)){o=i<3?undefined:o;i=1}e=Object(e);while(++n<i){var s=r[n];if(s){t(e,s,n,o)}}return e}))}var Bt=Object.prototype;function Ht(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Bt;return t===r}function Ut(t,e){var r=-1,n=Array(t);while(++r<t){n[r]=e(r)}return n}var Yt="[object Arguments]";function Gt(t){return W(t)&&z(t)==Yt}var Kt=Object.prototype;var Zt=Kt.hasOwnProperty;var $t=Kt.propertyIsEnumerable;var qt=Gt(function(){return arguments}())?Gt:function(t){return W(t)&&Zt.call(t,"callee")&&!$t.call(t,"callee")};function Jt(){return false}var Xt=typeof t=="object"&&t&&!t.nodeType&&t;var Qt=Xt&&typeof module=="object"&&module&&!module.nodeType&&module;var te=Qt&&Qt.exports===Xt;var ee=te?O.Buffer:undefined;var re=ee?ee.isBuffer:undefined;var ne=re||Jt;var ie="[object Arguments]",oe="[object Array]",ae="[object Boolean]",se="[object Date]",ue="[object Error]",le="[object Function]",ce="[object Map]",fe="[object Number]",he="[object Object]",pe="[object RegExp]",de="[object Set]",ve="[object String]",be="[object WeakMap]";var ge="[object ArrayBuffer]",me="[object DataView]",we="[object Float32Array]",ye="[object Float64Array]",_e="[object Int8Array]",ke="[object Int16Array]",Ee="[object Int32Array]",je="[object Uint8Array]",xe="[object Uint8ClampedArray]",Oe="[object Uint16Array]",Te="[object Uint32Array]";var Ae={};Ae[we]=Ae[ye]=Ae[_e]=Ae[ke]=Ae[Ee]=Ae[je]=Ae[xe]=Ae[Oe]=Ae[Te]=true;Ae[ie]=Ae[oe]=Ae[ge]=Ae[ae]=Ae[me]=Ae[se]=Ae[ue]=Ae[le]=Ae[ce]=Ae[fe]=Ae[he]=Ae[pe]=Ae[de]=Ae[ve]=Ae[be]=false;function Ie(t){return W(t)&&Ft(t.length)&&!!Ae[z(t)]}function Pe(t){return function(e){return t(e)}}var Se=typeof t=="object"&&t&&!t.nodeType&&t;var Ce=Se&&typeof module=="object"&&module&&!module.nodeType&&module;var Me=Ce&&Ce.exports===Se;var Ne=Me&&j.process;var Le=function(){try{var t=Ce&&Ce.require&&Ce.require("util").types;if(t){return t}return Ne&&Ne.binding&&Ne.binding("util")}catch(e){}}();var De=Le&&Le.isTypedArray;var Ve=De?Pe(De):Ie;var Fe=Object.prototype;var ze=Fe.hasOwnProperty;function We(t,e){var r=R(t),n=!r&&qt(t),i=!r&&!n&&ne(t),o=!r&&!n&&!i&&Ve(t),a=r||n||i||o,s=a?Ut(t.length,String):[],u=s.length;for(var l in t){if((e||ze.call(t,l))&&!(a&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Tt(l,u)))){s.push(l)}}return s}function Re(t,e){return function(r){return t(e(r))}}var Be=Re(Object.keys,Object);var He=Object.prototype;var Ue=He.hasOwnProperty;function Ye(t){if(!Ht(t)){return Be(t)}var e=[];for(var r in Object(t)){if(Ue.call(t,r)&&r!="constructor"){e.push(r)}}return e}function Ge(t){return zt(t)?We(t):Ye(t)}function Ke(t){var e=[];if(t!=null){for(var r in Object(t)){e.push(r)}}return e}var Ze=Object.prototype;var $e=Ze.hasOwnProperty;function qe(t){if(!B(t)){return Ke(t)}var e=Ht(t),r=[];for(var n in t){if(!(n=="constructor"&&(e||!$e.call(t,n)))){r.push(n)}}return r}function Je(t){return zt(t)?We(t,true):qe(t)}var Xe=t("O",Rt((function(t,e){Mt(e,Je(e),t)})));var Qe=ct(Object,"create");function tr(){this.__data__=Qe?Qe(null):{};this.size=0}function er(t){var e=this.has(t)&&delete this.__data__[t];this.size-=e?1:0;return e}var rr="__lodash_hash_undefined__";var nr=Object.prototype;var ir=nr.hasOwnProperty;function or(t){var e=this.__data__;if(Qe){var r=e[t];return r===rr?undefined:r}return ir.call(e,t)?e[t]:undefined}var ar=Object.prototype;var sr=ar.hasOwnProperty;function ur(t){var e=this.__data__;return Qe?e[t]!==undefined:sr.call(e,t)}var lr="__lodash_hash_undefined__";function cr(t,e){var r=this.__data__;this.size+=this.has(t)?0:1;r[t]=Qe&&e===undefined?lr:e;return this}function fr(t){var e=-1,r=t==null?0:t.length;this.clear();while(++e<r){var n=t[e];this.set(n[0],n[1])}}fr.prototype.clear=tr;fr.prototype["delete"]=er;fr.prototype.get=or;fr.prototype.has=ur;fr.prototype.set=cr;function hr(){this.__data__=[];this.size=0}function pr(t,e){var r=t.length;while(r--){if(It(t[r][0],e)){return r}}return-1}var dr=Array.prototype;var vr=dr.splice;function br(t){var e=this.__data__,r=pr(e,t);if(r<0){return false}var n=e.length-1;if(r==n){e.pop()}else{vr.call(e,r,1)}--this.size;return true}function gr(t){var e=this.__data__,r=pr(e,t);return r<0?undefined:e[r][1]}function mr(t){return pr(this.__data__,t)>-1}function wr(t,e){var r=this.__data__,n=pr(r,t);if(n<0){++this.size;r.push([t,e])}else{r[n][1]=e}return this}function yr(t){var e=-1,r=t==null?0:t.length;this.clear();while(++e<r){var n=t[e];this.set(n[0],n[1])}}yr.prototype.clear=hr;yr.prototype["delete"]=br;yr.prototype.get=gr;yr.prototype.has=mr;yr.prototype.set=wr;var _r=ct(O,"Map");function kr(){this.size=0;this.__data__={hash:new fr,map:new(_r||yr),string:new fr}}function Er(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function jr(t,e){var r=t.__data__;return Er(e)?r[typeof e=="string"?"string":"hash"]:r.map}function xr(t){var e=jr(this,t)["delete"](t);this.size-=e?1:0;return e}function Or(t){return jr(this,t).get(t)}function Tr(t){return jr(this,t).has(t)}function Ar(t,e){var r=jr(this,t),n=r.size;r.set(t,e);this.size+=r.size==n?0:1;return this}function Ir(t){var e=-1,r=t==null?0:t.length;this.clear();while(++e<r){var n=t[e];this.set(n[0],n[1])}}Ir.prototype.clear=kr;Ir.prototype["delete"]=xr;Ir.prototype.get=Or;Ir.prototype.has=Tr;Ir.prototype.set=Ar;function Pr(t,e){var r=-1,n=e.length,i=t.length;while(++r<n){t[i+r]=e[r]}return t}var Sr=Re(Object.getPrototypeOf,Object);var Cr="[object Object]";var Mr=Function.prototype,Nr=Object.prototype;var Lr=Mr.toString;var Dr=Nr.hasOwnProperty;var Vr=Lr.call(Object);function Fr(t){if(!W(t)||z(t)!=Cr){return false}var e=Sr(t);if(e===null){return true}var r=Dr.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Lr.call(r)==Vr}function zr(){this.__data__=new yr;this.size=0}function Wr(t){var e=this.__data__,r=e["delete"](t);this.size=e.size;return r}function Rr(t){return this.__data__.get(t)}function Br(t){return this.__data__.has(t)}var Hr=200;function Ur(t,e){var r=this.__data__;if(r instanceof yr){var n=r.__data__;if(!_r||n.length<Hr-1){n.push([t,e]);this.size=++r.size;return this}r=this.__data__=new Ir(n)}r.set(t,e);this.size=r.size;return this}function Yr(t){var e=this.__data__=new yr(t);this.size=e.size}Yr.prototype.clear=zr;Yr.prototype["delete"]=Wr;Yr.prototype.get=Rr;Yr.prototype.has=Br;Yr.prototype.set=Ur;function Gr(t,e){return t&&Mt(e,Ge(e),t)}function Kr(t,e){return t&&Mt(e,Je(e),t)}var Zr=typeof t=="object"&&t&&!t.nodeType&&t;var $r=Zr&&typeof module=="object"&&module&&!module.nodeType&&module;var qr=$r&&$r.exports===Zr;var Jr=qr?O.Buffer:undefined,Xr=Jr?Jr.allocUnsafe:undefined;function Qr(t,e){if(e){return t.slice()}var r=t.length,n=Xr?Xr(r):new t.constructor(r);t.copy(n);return n}function tn(t,e){var r=-1,n=t==null?0:t.length,i=0,o=[];while(++r<n){var a=t[r];if(e(a,r,t)){o[i++]=a}}return o}function en(){return[]}var rn=Object.prototype;var nn=rn.propertyIsEnumerable;var on=Object.getOwnPropertySymbols;var an=!on?en:function(t){if(t==null){return[]}t=Object(t);return tn(on(t),(function(e){return nn.call(t,e)}))};function sn(t,e){return Mt(t,an(t),e)}var un=Object.getOwnPropertySymbols;var ln=!un?en:function(t){var e=[];while(t){Pr(e,an(t));t=Sr(t)}return e};function cn(t,e){return Mt(t,ln(t),e)}function fn(t,e,r){var n=e(t);return R(t)?n:Pr(n,r(t))}function hn(t){return fn(t,Ge,an)}function pn(t){return fn(t,Je,ln)}var dn=ct(O,"DataView");var vn=ct(O,"Promise");var bn=ct(O,"Set");var gn="[object Map]",mn="[object Object]",wn="[object Promise]",yn="[object Set]",_n="[object WeakMap]";var kn="[object DataView]";var En=tt(dn),jn=tt(_r),xn=tt(vn),On=tt(bn),Tn=tt(ft);var An=z;if(dn&&An(new dn(new ArrayBuffer(1)))!=kn||_r&&An(new _r)!=gn||vn&&An(vn.resolve())!=wn||bn&&An(new bn)!=yn||ft&&An(new ft)!=_n){An=function(t){var e=z(t),r=e==mn?t.constructor:undefined,n=r?tt(r):"";if(n){switch(n){case En:return kn;case jn:return gn;case xn:return wn;case On:return yn;case Tn:return _n}}return e}}var In=An;var Pn=Object.prototype;var Sn=Pn.hasOwnProperty;function Cn(t){var e=t.length,r=new t.constructor(e);if(e&&typeof t[0]=="string"&&Sn.call(t,"index")){r.index=t.index;r.input=t.input}return r}var Mn=O.Uint8Array;function Nn(t){var e=new t.constructor(t.byteLength);new Mn(e).set(new Mn(t));return e}function Ln(t,e){var r=e?Nn(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Dn=/\w*$/;function Vn(t){var e=new t.constructor(t.source,Dn.exec(t));e.lastIndex=t.lastIndex;return e}var Fn=T?T.prototype:undefined,zn=Fn?Fn.valueOf:undefined;function Wn(t){return zn?Object(zn.call(t)):{}}function Rn(t,e){var r=e?Nn(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var Bn="[object Boolean]",Hn="[object Date]",Un="[object Map]",Yn="[object Number]",Gn="[object RegExp]",Kn="[object Set]",Zn="[object String]",$n="[object Symbol]";var qn="[object ArrayBuffer]",Jn="[object DataView]",Xn="[object Float32Array]",Qn="[object Float64Array]",ti="[object Int8Array]",ei="[object Int16Array]",ri="[object Int32Array]",ni="[object Uint8Array]",ii="[object Uint8ClampedArray]",oi="[object Uint16Array]",ai="[object Uint32Array]";function si(t,e,r){var n=t.constructor;switch(e){case qn:return Nn(t);case Bn:case Hn:return new n(+t);case Jn:return Ln(t,r);case Xn:case Qn:case ti:case ei:case ri:case ni:case ii:case oi:case ai:return Rn(t,r);case Un:return new n;case Yn:case Zn:return new n(t);case Gn:return Vn(t);case Kn:return new n;case $n:return Wn(t)}}function ui(t){return typeof t.constructor=="function"&&!Ht(t)?pt(Sr(t)):{}}var li="[object Map]";function ci(t){return W(t)&&In(t)==li}var fi=Le&&Le.isMap;var hi=fi?Pe(fi):ci;var pi="[object Set]";function di(t){return W(t)&&In(t)==pi}var vi=Le&&Le.isSet;var bi=vi?Pe(vi):di;var gi=1,mi=2,wi=4;var yi="[object Arguments]",_i="[object Array]",ki="[object Boolean]",Ei="[object Date]",ji="[object Error]",xi="[object Function]",Oi="[object GeneratorFunction]",Ti="[object Map]",Ai="[object Number]",Ii="[object Object]",Pi="[object RegExp]",Si="[object Set]",Ci="[object String]",Mi="[object Symbol]",Ni="[object WeakMap]";var Li="[object ArrayBuffer]",Di="[object DataView]",Vi="[object Float32Array]",Fi="[object Float64Array]",zi="[object Int8Array]",Wi="[object Int16Array]",Ri="[object Int32Array]",Bi="[object Uint8Array]",Hi="[object Uint8ClampedArray]",Ui="[object Uint16Array]",Yi="[object Uint32Array]";var Gi={};Gi[yi]=Gi[_i]=Gi[Li]=Gi[Di]=Gi[ki]=Gi[Ei]=Gi[Vi]=Gi[Fi]=Gi[zi]=Gi[Wi]=Gi[Ri]=Gi[Ti]=Gi[Ai]=Gi[Ii]=Gi[Pi]=Gi[Si]=Gi[Ci]=Gi[Mi]=Gi[Bi]=Gi[Hi]=Gi[Ui]=Gi[Yi]=true;Gi[ji]=Gi[xi]=Gi[Ni]=false;function Ki(t,e,r,n,i,o){var a,s=e&gi,u=e&mi,l=e&wi;if(r){a=i?r(t,n,i,o):r(t)}if(a!==undefined){return a}if(!B(t)){return t}var c=R(t);if(c){a=Cn(t);if(!s){return vt(t,a)}}else{var f=In(t),h=f==xi||f==Oi;if(ne(t)){return Qr(t,s)}if(f==Ii||f==yi||h&&!i){a=u||h?{}:ui(t);if(!s){return u?cn(t,Kr(a,t)):sn(t,Gr(a,t))}}else{if(!Gi[f]){return i?t:{}}a=si(t,f,s)}}o||(o=new Yr);var p=o.get(t);if(p){return p}o.set(t,a);if(bi(t)){t.forEach((function(n){a.add(Ki(n,e,r,n,t,o))}))}else if(hi(t)){t.forEach((function(n,i){a.set(i,Ki(n,e,r,i,t,o))}))}var d=l?u?pn:hn:u?Je:Ge;var v=c?undefined:d(t);jt(v||t,(function(n,i){if(v){i=n;n=t[i]}Ct(a,i,Ki(n,e,r,i,t,o))}));return a}var Zi=1,$i=4;function qi(t,e){e=typeof e=="function"?e:undefined;return Ki(t,Zi|$i,e)}function Ji(t){return W(t)&&t.nodeType===1&&!Fr(t)}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var Xi=Symbol("observableProperties");var Qi=Symbol("boundObservables");var to=Symbol("boundProperties");var eo=t("S",{set:function(t,e){var r=this;if(B(t)){Object.keys(t).forEach((function(e){r.set(e,t[e])}),this);return}ro(this);var n=this[Xi];if(t in this&&!n.has(t)){throw new s("observable-set-cannot-override",this)}Object.defineProperty(this,t,{enumerable:true,configurable:true,get:function(){return n.get(t)},set:function(e){var r=n.get(t);var i=this.fire("set:"+t,t,e,r);if(i===undefined){i=e}if(r!==i||!n.has(t)){n.set(t,i);this.fire("change:"+t,t,i,r)}}});this[t]=e},bind:function(){var t=this;var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(!e.length||!ao(e)){throw new s("observable-bind-wrong-properties",this)}if(new Set(e).size!==e.length){throw new s("observable-bind-duplicate-properties",this)}ro(this);var n=this[to];e.forEach((function(e){if(n.has(e)){throw new s("observable-bind-rebind",t)}}));var i=new Map;e.forEach((function(t){var e={property:t,to:[]};n.set(t,e);i.set(t,e)}));return{to:no,toMany:io,_observable:this,_bindProperties:e,_to:[],_bindings:i}},unbind:function(){var t=this;var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(!this[Xi]){return}var n=this[to];var i=this[Qi];if(e.length){if(!ao(e)){throw new s("observable-unbind-wrong-properties",this)}e.forEach((function(e){var r=n.get(e);if(!r){return}var o,a,s,u;r.to.forEach((function(e){o=e[0];a=e[1];s=i.get(o);u=s[a];u.delete(r);if(!u.size){delete s[a]}if(!Object.keys(s).length){i.delete(o);t.stopListening(o,"change")}}));n.delete(e)}))}else{i.forEach((function(e,r){t.stopListening(r,"change")}));i.clear();n.clear()}},decorate:function(t){var e=this;var r=this[t];if(!r){throw new s("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:t})}this.on(t,(function(t,n){t.return=r.apply(e,n)}));this[t]=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}return this.fire(t,e)}}});Xe(eo,p);function ro(t){if(t[Xi]){return}Object.defineProperty(t,Xi,{value:new Map});Object.defineProperty(t,Qi,{value:new Map});Object.defineProperty(t,to,{value:new Map})}function no(){var t=this;var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}var n=so.apply(void 0,e);var i=Array.from(this._bindings.keys());var o=i.length;if(!n.callback&&n.to.length>1){throw new s("observable-bind-to-no-callback",this)}if(o>1&&n.callback){throw new s("observable-bind-to-extra-callback",this)}n.to.forEach((function(e){if(e.properties.length&&e.properties.length!==o){throw new s("observable-bind-to-properties-length",t)}if(!e.properties.length){e.properties=t._bindProperties}}));this._to=n.to;if(n.callback){this._bindings.get(i[0]).callback=n.callback}fo(this._observable,this._to);lo(this);this._bindProperties.forEach((function(e){co(t._observable,e)}))}function io(t,e,r){if(this._bindings.size>1){throw new s("observable-bind-to-many-not-one-binding",this)}this.to.apply(this,__spreadArrays(oo(t,e),[r]))}function oo(t,e){var r=t.map((function(t){return[t,e]}));return Array.prototype.concat.apply([],r)}function ao(t){return t.every((function(t){return typeof t=="string"}))}function so(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}if(!t.length){throw new s("observable-bind-to-parse-error",null)}var r={to:[]};var n;if(typeof t[t.length-1]=="function"){r.callback=t.pop()}t.forEach((function(t){if(typeof t=="string"){n.properties.push(t)}else if(typeof t=="object"){n={observable:t,properties:[]};r.to.push(n)}else{throw new s("observable-bind-to-parse-error",null)}}));return r}function uo(t,e,r,n){var i=t[Qi];var o=i.get(r);var a=o||{};if(!a[n]){a[n]=new Set}a[n].add(e);if(!o){i.set(r,a)}}function lo(t){var e;t._bindings.forEach((function(r,n){t._to.forEach((function(i){e=i.properties[r.callback?0:t._bindProperties.indexOf(n)];r.to.push([i.observable,e]);uo(t._observable,r,i.observable,e)}))}))}function co(t,e){var r=t[to];var n=r.get(e);var i;if(n.callback){i=n.callback.apply(t,n.to.map((function(t){return t[0][t[1]]})))}else{i=n.to[0];i=i[0][i[1]]}if(Object.prototype.hasOwnProperty.call(t,e)){t[e]=i}else{t.set(e,i)}}function fo(t,e){e.forEach((function(e){var r=t[Qi];var n;if(!r.get(e.observable)){t.listenTo(e.observable,"change",(function(i,o){n=r.get(e.observable)[o];if(n){n.forEach((function(e){co(t,e.property)}))}}))}}))}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function ho(t){var e=[];for(var r=1;r<arguments.length;r++){e[r-1]=arguments[r]}e.forEach((function(e){Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach((function(r){if(r in t.prototype){return}var n=Object.getOwnPropertyDescriptor(e,r);n.enumerable=false;Object.defineProperty(t.prototype,r,n)}))}))}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var po=function(){function t(t){this.editor=t;this.set("isEnabled",true);this._disableStack=new Set}t.prototype.forceDisabled=function(t){this._disableStack.add(t);if(this._disableStack.size==1){this.on("set:isEnabled",vo,{priority:"highest"});this.isEnabled=false}};t.prototype.clearForceDisabled=function(t){this._disableStack.delete(t);if(this._disableStack.size==0){this.off("set:isEnabled",vo);this.isEnabled=true}};t.prototype.destroy=function(){this.stopListening()};Object.defineProperty(t,"isContextPlugin",{get:function(){return false},enumerable:false,configurable:true});return t}();t("P",po);ho(po,eo);function vo(t){t.return=false;t.stop()}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function bo(t){if(t){if(t.defaultView){return t instanceof t.defaultView.Document}else if(t.ownerDocument&&t.ownerDocument.defaultView){return t instanceof t.ownerDocument.defaultView.Node}}return false}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function go(t){var e=Object.prototype.toString.apply(t);if(e=="[object Window]"){return true}if(e=="[object global]"){return true}return false}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var mo=t("X",Xe({},p,{listenTo:function(t){var e;var r=[];for(var n=1;n<arguments.length;n++){r[n-1]=arguments[n]}if(bo(t)||go(t)){var i=this._getProxyEmitter(t)||new wo(t);i.attach.apply(i,r);t=i}(e=p.listenTo).call.apply(e,__spreadArrays([this,t],r))},stopListening:function(t,e,r){if(bo(t)||go(t)){var n=this._getProxyEmitter(t);if(!n){return}t=n}p.stopListening.call(this,t,e,r);if(t instanceof wo){t.detach(e)}},_getProxyEmitter:function(t){return d(this,yo(t))}}));var wo=function(){function t(t){v(this,yo(t));this._domNode=t}return t}();Xe(wo.prototype,p,{attach:function(t,e,r){if(r===void 0){r={}}if(this._domListeners&&this._domListeners[t]){return}var n={capture:!!r.useCapture,passive:!!r.usePassive};var i=this._createDomListener(t,n);this._domNode.addEventListener(t,i,n);if(!this._domListeners){this._domListeners={}}this._domListeners[t]=i},detach:function(t){var e;if(this._domListeners[t]&&(!(e=this._events[t])||!e.callbacks.length)){this._domListeners[t].removeListener()}},_createDomListener:function(t,e){var r=this;var n=function(e){r.fire(t,e)};n.removeListener=function(){r._domNode.removeEventListener(t,n,e);delete r._domListeners[t]};return n}});function yo(t){return t["data-ck-expando"]||(t["data-ck-expando"]=i())}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var _o=function(){function t(t){this.view=t;this.document=t.document;this.isEnabled=false}t.prototype.enable=function(){this.isEnabled=true};t.prototype.disable=function(){this.isEnabled=false};t.prototype.destroy=function(){this.disable();this.stopListening()};t.prototype.checkShouldIgnoreEventFromTarget=function(t){if(t&&t.nodeType===3){t=t.parentNode}if(!t||t.nodeType!==1){return false}return t.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")};return t}();ho(_o,mo);
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var ko=function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.observe=function(t){var e=this;this.listenTo(t,"load",(function(t,r){var n=r.target;if(e.checkShouldIgnoreEventFromTarget(n)){return}if(n.tagName=="IMG"){e._fireEvents(r)}}),{useCapture:true})};e.prototype._fireEvents=function(t){if(this.isEnabled){this.document.fire("layoutChanged");this.document.fire("imageLoaded",t)}};return e}(_o);t("I",ko);
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var Eo=function(){function t(){this._stack=[]}t.prototype.add=function(t,e){var r=this._stack;var n=r[0];this._insertDescriptor(t);var i=r[0];if(n!==i&&!jo(n,i)){this.fire("change:top",{oldDescriptor:n,newDescriptor:i,writer:e})}};t.prototype.remove=function(t,e){var r=this._stack;var n=r[0];this._removeDescriptor(t);var i=r[0];if(n!==i&&!jo(n,i)){this.fire("change:top",{oldDescriptor:n,newDescriptor:i,writer:e})}};t.prototype._insertDescriptor=function(t){var e=this._stack;var r=e.findIndex((function(e){return e.id===t.id}));if(jo(t,e[r])){return}if(r>-1){e.splice(r,1)}var n=0;while(e[n]&&xo(e[n],t)){n++}e.splice(n,0,t)};t.prototype._removeDescriptor=function(t){var e=this._stack;var r=e.findIndex((function(e){return e.id===t}));if(r>-1){e.splice(r,1)}};return t}();ho(Eo,p);function jo(t,e){return t&&e&&t.priority==e.priority&&Oo(t.classes)==Oo(e.classes)}function xo(t,e){if(t.priority>e.priority){return true}else if(t.priority<e.priority){return false}return Oo(t.classes)>Oo(e.classes)}function Oo(t){return Array.isArray(t)?t.sort().join(","):t}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function To(t){return!!(t&&t[Symbol.iterator])}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var Ao=function(){function t(t,e){if(t===void 0){t={}}if(e===void 0){e={}}var r=To(t);if(!r){e=t}this._items=[];this._itemMap=new Map;this._idProperty=e.idProperty||"id";this._bindToExternalToInternalMap=new WeakMap;this._bindToInternalToExternalMap=new WeakMap;this._skippedIndexesFromExternal=[];if(r){for(var n=0,i=t;n<i.length;n++){var o=i[n];this._items.push(o);this._itemMap.set(this._getItemIdBeforeAdding(o),o)}}}Object.defineProperty(t.prototype,"length",{get:function(){return this._items.length},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"first",{get:function(){return this._items[0]||null},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"last",{get:function(){return this._items[this.length-1]||null},enumerable:false,configurable:true});t.prototype.add=function(t,e){return this.addMany([t],e)};t.prototype.addMany=function(t,e){if(e===undefined){e=this._items.length}else if(e>this._items.length||e<0){throw new s("collection-add-item-invalid-index",this)}for(var r=0;r<t.length;r++){var n=t[r];var i=this._getItemIdBeforeAdding(n);var o=e+r;this._items.splice(o,0,n);this._itemMap.set(i,n);this.fire("add",n,o)}this.fire("change",{added:t,removed:[],index:e});return this};t.prototype.get=function(t){var e;if(typeof t=="string"){e=this._itemMap.get(t)}else if(typeof t=="number"){e=this._items[t]}else{throw new s("collection-get-invalid-arg",this)}return e||null};t.prototype.has=function(t){if(typeof t=="string"){return this._itemMap.has(t)}else{var e=this._idProperty;var r=t[e];return this._itemMap.has(r)}};t.prototype.getIndex=function(t){var e;if(typeof t=="string"){e=this._itemMap.get(t)}else{e=t}return this._items.indexOf(e)};t.prototype.remove=function(t){var e=this._remove(t),r=e[0],n=e[1];this.fire("change",{added:[],removed:[r],index:n});return r};t.prototype.map=function(t,e){return this._items.map(t,e)};t.prototype.find=function(t,e){return this._items.find(t,e)};t.prototype.filter=function(t,e){return this._items.filter(t,e)};t.prototype.clear=function(){if(this._bindToCollection){this.stopListening(this._bindToCollection);this._bindToCollection=null}var t=Array.from(this._items);while(this.length){this._remove(0)}this.fire("change",{added:[],removed:t,index:0})};t.prototype.bindTo=function(t){var e=this;if(this._bindToCollection){throw new s("collection-bind-to-rebind",this)}this._bindToCollection=t;return{as:function(t){e._setUpBindToBinding((function(e){return new t(e)}))},using:function(t){if(typeof t=="function"){e._setUpBindToBinding((function(e){return t(e)}))}else{e._setUpBindToBinding((function(e){return e[t]}))}}}};t.prototype._setUpBindToBinding=function(t){var e=this;var r=this._bindToCollection;var n=function(n,i,o){var a=r._bindToCollection==e;var s=r._bindToInternalToExternalMap.get(i);if(a&&s){e._bindToExternalToInternalMap.set(i,s);e._bindToInternalToExternalMap.set(s,i)}else{var u=t(i);if(!u){e._skippedIndexesFromExternal.push(o);return}var l=o;for(var c=0,f=e._skippedIndexesFromExternal;c<f.length;c++){var h=f[c];if(o>h){l--}}for(var p=0,d=r._skippedIndexesFromExternal;p<d.length;p++){var h=d[p];if(l>=h){l++}}e._bindToExternalToInternalMap.set(i,u);e._bindToInternalToExternalMap.set(u,i);e.add(u,l);for(var v=0;v<r._skippedIndexesFromExternal.length;v++){if(l<=r._skippedIndexesFromExternal[v]){r._skippedIndexesFromExternal[v]++}}}};for(var i=0,o=r;i<o.length;i++){var a=o[i];n(null,a,r.getIndex(a))}this.listenTo(r,"add",n);this.listenTo(r,"remove",(function(t,r,n){var i=e._bindToExternalToInternalMap.get(r);if(i){e.remove(i)}e._skippedIndexesFromExternal=e._skippedIndexesFromExternal.reduce((function(t,e){if(n<e){t.push(e-1)}if(n>e){t.push(e)}return t}),[])}))};t.prototype._getItemIdBeforeAdding=function(t){var e=this._idProperty;var r;if(e in t){r=t[e];if(typeof r!="string"){throw new s("collection-add-invalid-id",this)}if(this.get(r)){throw new s("collection-add-item-already-exists",this)}}else{t[e]=r=i()}return r};t.prototype._remove=function(t){var e,r,n;var i=false;var o=this._idProperty;if(typeof t=="string"){r=t;n=this._itemMap.get(r);i=!n;if(n){e=this._items.indexOf(n)}}else if(typeof t=="number"){e=t;n=this._items[e];i=!n;if(n){r=n[o]}}else{n=t;r=n[o];e=this._items.indexOf(n);i=e==-1||!this._itemMap.get(r)}if(i){throw new s("collection-remove-404",this)}this._items.splice(e,1);this._itemMap.delete(r);var a=this._bindToInternalToExternalMap.get(n);this._bindToInternalToExternalMap.delete(n);this._bindToExternalToInternalMap.delete(a);this.fire("remove",n,e);return[n,e]};t.prototype[Symbol.iterator]=function(){return this._items[Symbol.iterator]()};return t}();t("U",Ao);ho(Ao,p);
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var Io=function(t){__extends(e,t);function e(e){if(e===void 0){e=[]}var r=t.call(this,e,{idProperty:"viewUid"})||this;r.on("add",(function(t,e,n){r._renderViewIntoCollectionParent(e,n)}));r.on("remove",(function(t,e){if(e.element&&r._parentElement){e.element.remove()}}));r._parentElement=null;return r}e.prototype.destroy=function(){this.map((function(t){return t.destroy()}))};e.prototype.setParent=function(t){this._parentElement=t;for(var e=0,r=this;e<r.length;e++){var n=r[e];this._renderViewIntoCollectionParent(n)}};e.prototype.delegate=function(){var t=this;var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(!e.length||!Po(e)){throw new s("ui-viewcollection-delegate-wrong-events",this)}return{to:function(r){for(var n=0,i=t;n<i.length;n++){var o=i[n];for(var a=0,s=e;a<s.length;a++){var u=s[a];o.delegate(u).to(r)}}t.on("add",(function(t,n){for(var i=0,o=e;i<o.length;i++){var a=o[i];n.delegate(a).to(r)}}));t.on("remove",(function(t,n){for(var i=0,o=e;i<o.length;i++){var a=o[i];n.stopDelegating(a,r)}}))}}};e.prototype._renderViewIntoCollectionParent=function(t,e){if(!t.isRendered){t.render()}if(t.element&&this._parentElement){this._parentElement.insertBefore(t.element,this._parentElement.children[e])}};return e}(Ao);t("v",Io);function Po(t){return t.every((function(t){return typeof t=="string"}))}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function So(t){return Array.isArray(t)?t:[t]}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var Co="http://www.w3.org/1999/xhtml";var Mo=function(){function t(t){Object.assign(this,Uo(Ho(t)));this._isRendered=false;this._revertData=null}t.prototype.render=function(){var t=this._renderNode({intoFragment:true});this._isRendered=true;return t};t.prototype.apply=function(t){this._revertData=na();this._renderNode({node:t,isApplying:true,revertData:this._revertData});return t};t.prototype.revert=function(t){if(!this._revertData){throw new s("ui-template-revert-not-applied",[this,t])}this._revertTemplateFromNode(t,this._revertData)};t.prototype.getViews=function(){function t(e){var r,n,i;return __generator(this,(function(o){switch(o.label){case 0:if(!e.children)return[3,6];r=0,n=e.children;o.label=1;case 1:if(!(r<n.length))return[3,6];i=n[r];if(!ta(i))return[3,3];return[4,i];case 2:o.sent();return[3,5];case 3:if(!ea(i))return[3,5];return[5,__values(t(i))];case 4:o.sent();o.label=5;case 5:r++;return[3,1];case 6:return[2]}}))}return __generator(this,(function(e){switch(e.label){case 0:return[5,__values(t(this))];case 1:e.sent();return[2]}}))};t.bind=function(t,e){return{to:function(r,n){return new Lo({eventNameOrFunction:r,attribute:r,observable:t,emitter:e,callback:n})},if:function(r,n,i){return new Do({observable:t,emitter:e,attribute:r,valueIfTrue:n,callback:i})}}};t.extend=function(t,e){if(t._isRendered){throw new s("template-extend-render",[this,t])}Xo(t,Uo(Ho(e)))};t.prototype._renderNode=function(t){var e;if(t.node){e=this.tag&&this.text}else{e=this.tag?this.text:!this.text}if(e){throw new s("ui-template-wrong-syntax",this)}if(this.text){return this._renderText(t)}else{return this._renderElement(t)}};t.prototype._renderElement=function(t){var e=t.node;if(!e){e=t.node=document.createElementNS(this.ns||Co,this.tag)}this._renderAttributes(t);this._renderElementChildren(t);this._setUpListeners(t);return e};t.prototype._renderText=function(t){var e=t.node;if(e){t.revertData.text=e.textContent}else{e=t.node=document.createTextNode("")}if(Vo(this.text)){this._bindToObservable({schema:this.text,updater:Wo(e),data:t})}else{e.textContent=this.text.join("")}return e};t.prototype._renderAttributes=function(t){var e,r,n,i;if(!this.attributes){return}var o=t.node;var a=t.revertData;for(e in this.attributes){n=o.getAttribute(e);r=this.attributes[e];if(a){a.attributes[e]=n}i=B(r[0])&&r[0].ns?r[0].ns:null;if(Vo(r)){var s=i?r[0].value:r;if(a&&ia(e)){s.unshift(n)}this._bindToObservable({schema:s,updater:Ro(o,e,i),data:t})}else if(e=="style"&&typeof r[0]!=="string"){this._renderStyleAttribute(r[0],t)}else{if(a&&n&&ia(e)){r.unshift(n)}r=r.map((function(t){return t?t.value||t:t})).reduce((function(t,e){return t.concat(e)}),[]).reduce(qo,"");if(!Qo(r)){o.setAttributeNS(i,e,r)}}}};t.prototype._renderStyleAttribute=function(t,e){var r=e.node;for(var n in t){var i=t[n];if(Vo(i)){this._bindToObservable({schema:[i],updater:Bo(r,n),data:e})}else{r.style[n]=i}}};t.prototype._renderElementChildren=function(t){var e=t.node;var r=t.intoFragment?document.createDocumentFragment():e;var n=t.isApplying;var i=0;for(var o=0,a=this.children;o<a.length;o++){var s=a[o];if(ra(s)){if(!n){s.setParent(e);for(var u=0,l=s;u<l.length;u++){var c=l[u];r.appendChild(c.element)}}}else if(ta(s)){if(!n){if(!s.isRendered){s.render()}r.appendChild(s.element)}}else if(bo(s)){r.appendChild(s)}else{if(n){var f=t.revertData;var h=na();f.children.push(h);s._renderNode({node:r.childNodes[i++],isApplying:true,revertData:h})}else{r.appendChild(s.render())}}}if(t.intoFragment){e.appendChild(r)}};t.prototype._setUpListeners=function(t){if(!this.eventListeners){return}var e=function(e){var n=r.eventListeners[e].map((function(r){var n=e.split("@"),i=n[0],o=n[1];return r.activateDomEventListener(i,o,t)}));if(t.revertData){t.revertData.bindings.push(n)}};var r=this;for(var n in this.eventListeners){e(n)}};t.prototype._bindToObservable=function(t){var e=t.schema,r=t.updater,n=t.data;var i=n.revertData;zo(e,r,n);var o=e.filter((function(t){return!Qo(t)})).filter((function(t){return t.observable})).map((function(t){return t.activateAttributeListener(e,r,n)}));if(i){i.bindings.push(o)}};t.prototype._revertTemplateFromNode=function(t,e){for(var r=0,n=e.bindings;r<n.length;r++){var i=n[r];for(var o=0,a=i;o<a.length;o++){var s=a[o];s()}}if(e.text){t.textContent=e.text;return}for(var u in e.attributes){var l=e.attributes[u];if(l===null){t.removeAttribute(u)}else{t.setAttribute(u,l)}}for(var c=0;c<e.children.length;++c){this._revertTemplateFromNode(t.childNodes[c],e.children[c])}};return t}();t("n",Mo);ho(Mo,p);var No=function(){function t(t){Object.assign(this,t)}t.prototype.getValue=function(t){var e=this.observable[this.attribute];return this.callback?this.callback(e,t):e};t.prototype.activateAttributeListener=function(t,e,r){var n=this;var i=function(){return zo(t,e,r)};this.emitter.listenTo(this.observable,"change:"+this.attribute,i);return function(){n.emitter.stopListening(n.observable,"change:"+n.attribute,i)}};return t}();var Lo=function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.activateDomEventListener=function(t,e,r){var n=this;var i=function(t,r){if(!e||r.target.matches(e)){if(typeof n.eventNameOrFunction=="function"){n.eventNameOrFunction(r)}else{n.observable.fire(n.eventNameOrFunction,r)}}};this.emitter.listenTo(r.node,t,i);return function(){n.emitter.stopListening(r.node,t,i)}};return e}(No);var Do=function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.getValue=function(e){var r=t.prototype.getValue.call(this,e);return Qo(r)?false:this.valueIfTrue||true};return e}(No);function Vo(t){if(!t){return false}if(t.value){t=t.value}if(Array.isArray(t)){return t.some(Vo)}else if(t instanceof No){return true}return false}function Fo(t,e){return t.map((function(t){if(t instanceof No){return t.getValue(e)}return t}))}function zo(t,e,r){var n=r.node;var i=Fo(t,n);if(t.length==1&&t[0]instanceof Do){i=i[0]}else{i=i.reduce(qo,"")}if(Qo(i)){e.remove()}else{e.set(i)}}function Wo(t){return{set:function(e){t.textContent=e},remove:function(){t.textContent=""}}}function Ro(t,e,r){return{set:function(n){t.setAttributeNS(r,e,n)},remove:function(){t.removeAttributeNS(r,e)}}}function Bo(t,e){return{set:function(r){t.style[e]=r},remove:function(){t.style[e]=null}}}function Ho(t){var e=qi(t,(function(t){if(t&&(t instanceof No||ea(t)||ta(t)||ra(t))){return t}}));return e}function Uo(t){if(typeof t=="string"){t=Ko(t)}else if(t.text){Zo(t)}if(t.on){t.eventListeners=Go(t.on);delete t.on}if(!t.text){if(t.attributes){Yo(t.attributes)}var e=[];if(t.children){if(ra(t.children)){e.push(t.children)}else{for(var r=0,n=t.children;r<n.length;r++){var i=n[r];if(ea(i)||ta(i)||bo(i)){e.push(i)}else{e.push(new Mo(i))}}}}t.children=e}return t}function Yo(t){for(var e in t){if(t[e].value){t[e].value=So(t[e].value)}$o(t,e)}}function Go(t){for(var e in t){$o(t,e)}return t}function Ko(t){return{text:[t]}}function Zo(t){t.text=So(t.text)}function $o(t,e){t[e]=So(t[e])}function qo(t,e){if(Qo(e)){return t}else if(Qo(t)){return e}else{return t+" "+e}}function Jo(t,e){var r;for(var n in e){if(t[n]){(r=t[n]).push.apply(r,e[n])}else{t[n]=e[n]}}}function Xo(t,e){var r;if(e.attributes){if(!t.attributes){t.attributes={}}Jo(t.attributes,e.attributes)}if(e.eventListeners){if(!t.eventListeners){t.eventListeners={}}Jo(t.eventListeners,e.eventListeners)}if(e.text){(r=t.text).push.apply(r,e.text)}if(e.children&&e.children.length){if(t.children.length!=e.children.length){throw new s("ui-template-extend-children-mismatch",t)}var n=0;for(var i=0,o=e.children;i<o.length;i++){var a=o[i];Xo(t.children[n++],a)}}}function Qo(t){return!t&&t!==0}function ta(t){return t instanceof oa}function ea(t){return t instanceof Mo}function ra(t){return t instanceof Io}function na(){return{children:[],bindings:[],attributes:{}}}function ia(t){return t=="class"||t=="style"}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var oa=function(){function t(t){this.element=null;this.isRendered=false;this.locale=t;this.t=t&&t.t;this._viewCollections=new Ao;this._unboundChildren=this.createCollection();this._viewCollections.on("add",(function(e,r){r.locale=t}));this.decorate("render")}Object.defineProperty(t.prototype,"bindTemplate",{get:function(){if(this._bindTemplate){return this._bindTemplate}return this._bindTemplate=Mo.bind(this,this)},enumerable:false,configurable:true});t.prototype.createCollection=function(t){var e=new Io(t);this._viewCollections.add(e);return e};t.prototype.registerChild=function(t){if(!To(t)){t=[t]}for(var e=0,r=t;e<r.length;e++){var n=r[e];this._unboundChildren.add(n)}};t.prototype.deregisterChild=function(t){if(!To(t)){t=[t]}for(var e=0,r=t;e<r.length;e++){var n=r[e];this._unboundChildren.remove(n)}};t.prototype.setTemplate=function(t){this.template=new Mo(t)};t.prototype.extendTemplate=function(t){Mo.extend(this.template,t)};t.prototype.render=function(){if(this.isRendered){throw new s("ui-view-render-already-rendered",this)}if(this.template){this.element=this.template.render();this.registerChild(this.template.getViews())}this.isRendered=true};t.prototype.destroy=function(){this.stopListening();this._viewCollections.map((function(t){return t.destroy()}));if(this.template&&this.template._revertData){this.template.revert(this.element)}};return t}();t("V",oa);ho(oa,mo);ho(oa,eo);
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var aa=function(t){__extends(e,t);function e(){var e=t.call(this)||this;var r=e.bindTemplate;e.set("content","");e.set("viewBox","0 0 20 20");e.set("fillColor","");e.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:r.to("viewBox")}});return e}e.prototype.render=function(){var e=this;t.prototype.render.call(this);this._updateXMLContent();this._colorFillPaths();this.on("change:content",(function(){e._updateXMLContent();e._colorFillPaths()}));this.on("change:fillColor",(function(){e._colorFillPaths()}))};e.prototype._updateXMLContent=function(){if(this.content){var t=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml");var e=t.querySelector("svg");var r=e.getAttribute("viewBox");if(r){this.viewBox=r}this.element.innerHTML="";while(e.childNodes.length>0){this.element.appendChild(e.childNodes[0])}}};e.prototype._colorFillPaths=function(){var t=this;if(this.fillColor){this.element.querySelectorAll(".ck-icon__fill").forEach((function(e){e.style.fill=t.fillColor}))}};return e}(oa);t("L",aa);
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function sa(t){return Object.prototype.toString.apply(t)=="[object Range]"}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function ua(t){var e=t.ownerDocument.defaultView.getComputedStyle(t);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function la(t){return Object.prototype.toString.call(t)=="[object Text]"}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var ca=["top","right","bottom","left","width","height"];var fa=function(){function t(e){var r=sa(e);Object.defineProperty(this,"_source",{value:e._source||e,writable:true,enumerable:false});if(Ji(e)||r){if(r){var n=t.getDomRangeRects(e);ha(this,t.getBoundingRect(n))}else{ha(this,e.getBoundingClientRect())}}else if(go(e)){var i=e.innerWidth,o=e.innerHeight;ha(this,{top:0,right:i,bottom:o,left:0,width:i,height:o})}else{ha(this,e)}}t.prototype.clone=function(){return new t(this)};t.prototype.moveTo=function(t,e){this.top=e;this.right=t+this.width;this.bottom=e+this.height;this.left=t;return this};t.prototype.moveBy=function(t,e){this.top+=e;this.right+=t;this.left+=t;this.bottom+=e;return this};t.prototype.getIntersection=function(e){var r={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left)};r.width=r.right-r.left;r.height=r.bottom-r.top;if(r.width<0||r.height<0){return null}else{return new t(r)}};t.prototype.getIntersectionArea=function(t){var e=this.getIntersection(t);if(e){return e.getArea()}else{return 0}};t.prototype.getArea=function(){return this.width*this.height};t.prototype.getVisible=function(){var e=this._source;var r=this.clone();if(!pa(e)){var n=e.parentNode||e.commonAncestorContainer;while(n&&!pa(n)){var i=new t(n);var o=r.getIntersection(i);if(o){if(o.getArea()<r.getArea()){r=o}}else{return null}n=n.parentNode}}return r};t.prototype.isEqual=function(t){for(var e=0,r=ca;e<r.length;e++){var n=r[e];if(this[n]!==t[n]){return false}}return true};t.prototype.contains=function(t){var e=this.getIntersection(t);return!!(e&&e.isEqual(t))};t.prototype.excludeScrollbarsAndBorders=function(){var t=this._source;var e,r,n;if(go(t)){e=t.innerWidth-t.document.documentElement.clientWidth;r=t.innerHeight-t.document.documentElement.clientHeight;n=t.getComputedStyle(t.document.documentElement).direction}else{var i=ua(this._source);e=t.offsetWidth-t.clientWidth-i.left-i.right;r=t.offsetHeight-t.clientHeight-i.top-i.bottom;n=t.ownerDocument.defaultView.getComputedStyle(t).direction;this.left+=i.left;this.top+=i.top;this.right-=i.right;this.bottom-=i.bottom;this.width=this.right-this.left;this.height=this.bottom-this.top}this.width-=e;if(n==="ltr"){this.right-=e}else{this.left+=e}this.height-=r;this.bottom-=r;return this};t.getDomRangeRects=function(e){var r=[];var n=Array.from(e.getClientRects());if(n.length){for(var i=0,o=n;i<o.length;i++){var a=o[i];r.push(new t(a))}}else{var s=e.startContainer;if(la(s)){s=s.parentNode}var a=new t(s.getBoundingClientRect());a.right=a.left;a.width=0;r.push(a)}return r};t.getBoundingRect=function(e){var r={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY};var n=0;for(var i=0,o=e;i<o.length;i++){var a=o[i];n++;r.left=Math.min(r.left,a.left);r.top=Math.min(r.top,a.top);r.right=Math.max(r.right,a.right);r.bottom=Math.max(r.bottom,a.bottom)}if(n==0){return null}r.width=r.right-r.left;r.height=r.bottom-r.top;return new t(r)};return t}();t("R",fa);function ha(t,e){for(var r=0,n=ca;r<n.length;r++){var i=n[r];t[i]=e[i]}}function pa(t){if(!Ji(t)){return false}return t===t.ownerDocument.body}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var da=t("Y",{window:window,document:document});
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function va(t){if(!t||!t.parentNode){return null}if(t.offsetParent===da.document.body){return null}return t.offsetParent}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function ba(t){var e,r;var n=t.element,i=t.target,o=t.positions,a=t.limiter,s=t.fitInViewport;if(Z(i)){i=i()}if(Z(a)){a=a()}var u=va(n);var l=new fa(n);var c=new fa(i);var f;var h;if(!a&&!s){e=ga(o[0],c,l),h=e[0],f=e[1]}else{var p=a&&new fa(a).getVisible();var d=s&&new fa(da.window);var v=ma(o,{targetRect:c,elementRect:l,limiterRect:p,viewportRect:d});r=v||ga(o[0],c,l),h=r[0],f=r[1]}var b=ka(f);if(u){b=_a(b,u)}return{left:b.left,top:b.top,name:h}}function ga(t,e,r){var n=t(e,r);if(!n){return null}var i=n.left,o=n.top,a=n.name;return[a,r.clone().moveTo(i,o)]}function ma(t,e){var r=e.elementRect,n=e.viewportRect;var i=r.getArea();var o=wa(t,e);if(n){var a=o.filter((function(t){var e=t.viewportIntersectArea;return e===i}));var s=ya(a,i);if(s){return s}}return ya(o,i)}function wa(t,e){var r=e.targetRect,n=e.elementRect,i=e.limiterRect,o=e.viewportRect;var a=[];var s=n.getArea();for(var u=0,l=t;u<l.length;u++){var c=l[u];var f=ga(c,r,n);if(!f){continue}var h=f[0],p=f[1];var d=0;var v=0;if(i){if(o){var b=i.getIntersection(o);if(b){d=b.getIntersectionArea(p)}}else{d=i.getIntersectionArea(p)}}if(o){v=o.getIntersectionArea(p)}var g={positionName:h,positionRect:p,limiterIntersectArea:d,viewportIntersectArea:v};if(d===s){return[g]}a.push(g)}return a}function ya(t,e){var r=0;var n;var i;for(var o=0,a=t;o<a.length;o++){var s=a[o],u=s.positionName,l=s.positionRect,c=s.limiterIntersectArea,f=s.viewportIntersectArea;if(c===e){return[u,l]}var h=Math.pow(f,2)+Math.pow(c,2);if(h>r){r=h;n=l;i=u}}return n?[i,n]:null}function _a(t,e){var r=t.left,n=t.top;var i=ka(new fa(e));var o=ua(e);r-=i.left;n-=i.top;r+=e.scrollLeft;n+=e.scrollTop;r-=o.left;n-=o.top;return{left:r,top:n}}function ka(t){var e=t.left,r=t.top;var n=da.window,i=n.scrollX,o=n.scrollY;return{left:e+i,top:r+o}}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function Ea(t){return function(e){return e+t}}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md.
             */var ja=Ea("px");var xa=da.document.body;var Oa=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;var n=r.bindTemplate;r.set("top",0);r.set("left",0);r.set("position","arrow_nw");r.set("isVisible",false);r.set("withArrow",true);r.set("class");r.content=r.createCollection();r.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",n.to("position",(function(t){return"ck-balloon-panel_"+t})),n.if("isVisible","ck-balloon-panel_visible"),n.if("withArrow","ck-balloon-panel_with-arrow"),n.to("class")],style:{top:n.to("top",ja),left:n.to("left",ja)}},children:r.content});return r}e.prototype.show=function(){this.isVisible=true};e.prototype.hide=function(){this.isVisible=false};e.prototype.attachTo=function(t){this.show();var r=e.defaultPositions;var n=Object.assign({},{element:this.element,positions:[r.southArrowNorth,r.southArrowNorthMiddleWest,r.southArrowNorthMiddleEast,r.southArrowNorthWest,r.southArrowNorthEast,r.northArrowSouth,r.northArrowSouthMiddleWest,r.northArrowSouthMiddleEast,r.northArrowSouthWest,r.northArrowSouthEast],limiter:xa,fitInViewport:true},t);var i=e._getOptimalPosition(n);var o=parseInt(i.left);var a=parseInt(i.top);var s=i.name;Object.assign(this,{top:a,left:o,position:s})};e.prototype.pin=function(t){var e=this;this.unpin();this._pinWhenIsVisibleCallback=function(){if(e.isVisible){e._startPinning(t)}else{e._stopPinning()}};this._startPinning(t);this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)};e.prototype.unpin=function(){if(this._pinWhenIsVisibleCallback){this._stopPinning();this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback);this._pinWhenIsVisibleCallback=null;this.hide()}};e.prototype._startPinning=function(t){var e=this;this.attachTo(t);var r=Ta(t.target);var n=t.limiter?Ta(t.limiter):xa;this.listenTo(da.document,"scroll",(function(i,o){var a=o.target;var s=r&&a.contains(r);var u=n&&a.contains(n);if(s||u||!r||!n){e.attachTo(t)}}),{useCapture:true});this.listenTo(da.window,"resize",(function(){e.attachTo(t)}))};e.prototype._stopPinning=function(){this.stopListening(da.document,"scroll");this.stopListening(da.window,"resize")};return e}(oa);t("x",Oa);function Ta(t){if(Ji(t)){return t}if(sa(t)){return t.commonAncestorContainer}if(typeof t=="function"){return Ta(t())}return null}Oa.arrowHorizontalOffset=25;Oa.arrowVerticalOffset=10;Oa._getOptimalPosition=ba;Oa.defaultPositions={northWestArrowSouthWest:function(t,e){return{top:Aa(t,e),left:t.left-Oa.arrowHorizontalOffset,name:"arrow_sw"}},northWestArrowSouthMiddleWest:function(t,e){return{top:Aa(t,e),left:t.left-e.width*.25-Oa.arrowHorizontalOffset,name:"arrow_smw"}},northWestArrowSouth:function(t,e){return{top:Aa(t,e),left:t.left-e.width/2,name:"arrow_s"}},northWestArrowSouthMiddleEast:function(t,e){return{top:Aa(t,e),left:t.left-e.width*.75+Oa.arrowHorizontalOffset,name:"arrow_sme"}},northWestArrowSouthEast:function(t,e){return{top:Aa(t,e),left:t.left-e.width+Oa.arrowHorizontalOffset,name:"arrow_se"}},northArrowSouthWest:function(t,e){return{top:Aa(t,e),left:t.left+t.width/2-Oa.arrowHorizontalOffset,name:"arrow_sw"}},northArrowSouthMiddleWest:function(t,e){return{top:Aa(t,e),left:t.left+t.width/2-e.width*.25-Oa.arrowHorizontalOffset,name:"arrow_smw"}},northArrowSouth:function(t,e){return{top:Aa(t,e),left:t.left+t.width/2-e.width/2,name:"arrow_s"}},northArrowSouthMiddleEast:function(t,e){return{top:Aa(t,e),left:t.left+t.width/2-e.width*.75+Oa.arrowHorizontalOffset,name:"arrow_sme"}},northArrowSouthEast:function(t,e){return{top:Aa(t,e),left:t.left+t.width/2-e.width+Oa.arrowHorizontalOffset,name:"arrow_se"}},northEastArrowSouthWest:function(t,e){return{top:Aa(t,e),left:t.right-Oa.arrowHorizontalOffset,name:"arrow_sw"}},northEastArrowSouthMiddleWest:function(t,e){return{top:Aa(t,e),left:t.right-e.width*.25-Oa.arrowHorizontalOffset,name:"arrow_smw"}},northEastArrowSouth:function(t,e){return{top:Aa(t,e),left:t.right-e.width/2,name:"arrow_s"}},northEastArrowSouthMiddleEast:function(t,e){return{top:Aa(t,e),left:t.right-e.width*.75+Oa.arrowHorizontalOffset,name:"arrow_sme"}},northEastArrowSouthEast:function(t,e){return{top:Aa(t,e),left:t.right-e.width+Oa.arrowHorizontalOffset,name:"arrow_se"}},southWestArrowNorthWest:function(t,e){return{top:Ia(t),left:t.left-Oa.arrowHorizontalOffset,name:"arrow_nw"}},southWestArrowNorthMiddleWest:function(t,e){return{top:Ia(t),left:t.left-e.width*.25-Oa.arrowHorizontalOffset,name:"arrow_nmw"}},southWestArrowNorth:function(t,e){return{top:Ia(t),left:t.left-e.width/2,name:"arrow_n"}},southWestArrowNorthMiddleEast:function(t,e){return{top:Ia(t),left:t.left-e.width*.75+Oa.arrowHorizontalOffset,name:"arrow_nme"}},southWestArrowNorthEast:function(t,e){return{top:Ia(t),left:t.left-e.width+Oa.arrowHorizontalOffset,name:"arrow_ne"}},southArrowNorthWest:function(t,e){return{top:Ia(t),left:t.left+t.width/2-Oa.arrowHorizontalOffset,name:"arrow_nw"}},southArrowNorthMiddleWest:function(t,e){return{top:Ia(t),left:t.left+t.width/2-e.width*.25-Oa.arrowHorizontalOffset,name:"arrow_nmw"}},southArrowNorth:function(t,e){return{top:Ia(t),left:t.left+t.width/2-e.width/2,name:"arrow_n"}},southArrowNorthMiddleEast:function(t,e){return{top:Ia(t),left:t.left+t.width/2-e.width*.75+Oa.arrowHorizontalOffset,name:"arrow_nme"}},southArrowNorthEast:function(t,e){return{top:Ia(t),left:t.left+t.width/2-e.width+Oa.arrowHorizontalOffset,name:"arrow_ne"}},southEastArrowNorthWest:function(t,e){return{top:Ia(t),left:t.right-Oa.arrowHorizontalOffset,name:"arrow_nw"}},southEastArrowNorthMiddleWest:function(t,e){return{top:Ia(t),left:t.right-e.width*.25-Oa.arrowHorizontalOffset,name:"arrow_nmw"}},southEastArrowNorth:function(t,e){return{top:Ia(t),left:t.right-e.width/2,name:"arrow_n"}},southEastArrowNorthMiddleEast:function(t,e){return{top:Ia(t),left:t.right-e.width*.75+Oa.arrowHorizontalOffset,name:"arrow_nme"}},southEastArrowNorthEast:function(t,e){return{top:Ia(t),left:t.right-e.width+Oa.arrowHorizontalOffset,name:"arrow_ne"}}};function Aa(t,e){return t.top-e.height-Oa.arrowVerticalOffset}function Ia(t){return t.bottom+Oa.arrowVerticalOffset}var Pa="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTYgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQgMHYxSDF2M0gwVi41QS41LjUgMCAwIDEgLjUgMEg0em04IDBoMy41YS41LjUgMCAwIDEgLjUuNVY0aC0xVjFoLTNWMHpNNCAxNkguNWEuNS41IDAgMCAxLS41LS41VjEyaDF2M2gzdjF6bTggMHYtMWgzdi0zaDF2My41YS41LjUgMCAwIDEtLjUuNUgxMnoiLz48cGF0aCBmaWxsLW9wYWNpdHk9Ii4yNTYiIGQ9Ik0xIDFoMTR2MTRIMXoiLz48ZyBjbGFzcz0iY2staWNvbl9fc2VsZWN0ZWQtaW5kaWNhdG9yIj48cGF0aCBkPSJNNyAwaDJ2MUg3VjB6TTAgN2gxdjJIMFY3em0xNSAwaDF2MmgtMVY3em0tOCA4aDJ2MUg3di0xeiIvPjxwYXRoIGZpbGwtb3BhY2l0eT0iLjI1NCIgZD0iTTEgMWgxNHYxNEgxeiIvPjwvZz48L3N2Zz4=";
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var Sa=t("T","widget-type-around");function Ca(t,e,r){return t&&za(t)&&!r.isInline(e)}function Ma(t){return t.closest(".ck-widget__type-around__button")}function Na(t){return t.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function La(t,e){var r=t.closest(".ck-widget");return e.mapDomToView(r)}function Da(t){return t.getAttribute(Sa)}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var Va="ck-widget";var Fa=t("W","ck-widget_selected");function za(t){if(!t.is("element")){return false}return!!t.getCustomProperty("widget")}function Wa(t,e,r){if(r===void 0){r={}}if(!t.is("containerElement")){throw new s("widget-to-widget-wrong-element-type",null,{element:t})}e.setAttribute("contenteditable","false",t);e.addClass(Va,t);e.setCustomProperty("widget",true,t);t.getFillerOffset=Ya;if(r.label){Ba(t,r.label,e)}if(r.hasSelectionHandle){Ga(t,e)}Ra(t,e,(function(t,e,r){return r.addClass(So(e.classes),t)}),(function(t,e,r){return r.removeClass(So(e.classes),t)}));return t}function Ra(t,e,r,n){var i=new Eo;i.on("change:top",(function(e,i){if(i.oldDescriptor){n(t,i.oldDescriptor,i.writer)}if(i.newDescriptor){r(t,i.newDescriptor,i.writer)}}));e.setCustomProperty("addHighlight",(function(t,e,r){return i.add(e,r)}),t);e.setCustomProperty("removeHighlight",(function(t,e,r){return i.remove(e,r)}),t)}function Ba(t,e,r){r.setCustomProperty("widgetLabel",e,t)}function Ha(t){var e=t.getCustomProperty("widgetLabel");if(!e){return""}return typeof e=="function"?e():e}function Ua(t,e){var r=t.getSelectedElement();if(r){var n=Da(t);if(n){return e.createPositionAt(r,n)}if(e.schema.isBlock(r)){return e.createPositionAfter(r)}}var i=t.getSelectedBlocks().next().value;if(i){if(i.isEmpty){return e.createPositionAt(i,0)}var o=e.createPositionAfter(i);if(t.focus.isTouching(o)){return o}return e.createPositionBefore(i)}return t.focus}function Ya(){return null}function Ga(t,e){var r=e.createUIElement("div",{class:"ck ck-widget__selection-handle"},(function(t){var e=this.toDomElement(t);var r=new aa;r.set("content",Pa);r.render();e.appendChild(r.element);return e}));e.insert(e.createPositionAt(t,0),r);e.addClass(["ck-widget_with-selection-handle"],t)}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function Ka(t,e,r){e.setCustomProperty("image",true,t);return Wa(t,e,{label:n});function n(){var e=Qa(t);var n=e.getAttribute("alt");return n?n+" "+r:r}}function Za(t){return!!t.getCustomProperty("image")&&za(t)}function $a(t){var e=t.getSelectedElement();if(e&&Za(e)){return e}return null}function qa(t){return!!t&&t.is("element","image")}function Ja(t,e,r){if(e===void 0){e={}}if(r===void 0){r=null}t.change((function(n){var i=n.createElement("image",e);var o=r||Ua(t.document.selection,t);t.insertContent(i,o);if(i.parent){n.setSelection(i,"on")}}))}function Xa(t){var e=t.schema;var r=t.document.selection;return ts(r,e,t)&&!es(r,e)&&rs(r)}function Qa(t){var e=[];for(var r=0,n=t.getChildren();r<n.length;r++){var i=n[r];e.push(i);if(i.is("element")){e.push.apply(e,i.getChildren())}}return e.find((function(t){return t.is("element","img")}))}function ts(t,e,r){var n=ns(t,r);return e.checkChild(n,"image")}function es(t,e){var r=t.getSelectedElement();return r&&e.isObject(r)}function rs(t){return __spreadArrays(t.focus.getAncestors()).every((function(t){return!t.is("element","image")}))}function ns(t,e){var r=Ua(t,e);var n=r.parent;if(n.isEmpty&&!n.is("element","$root")){return n.parent}return n}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var is=function(){function t(t){var e=this;this.editor=t;this.set("value",undefined);this.set("isEnabled",false);this._disableStack=new Set;this.decorate("execute");this.listenTo(this.editor.model.document,"change",(function(){e.refresh()}));this.on("execute",(function(t){if(!e.isEnabled){t.stop()}}),{priority:"high"});this.listenTo(t,"change:isReadOnly",(function(t,r,n){if(n){e.forceDisabled("readOnlyMode")}else{e.clearForceDisabled("readOnlyMode")}}))}t.prototype.refresh=function(){this.isEnabled=true};t.prototype.forceDisabled=function(t){this._disableStack.add(t);if(this._disableStack.size==1){this.on("set:isEnabled",os,{priority:"highest"});this.isEnabled=false}};t.prototype.clearForceDisabled=function(t){this._disableStack.delete(t);if(this._disableStack.size==0){this.off("set:isEnabled",os);this.refresh()}};t.prototype.execute=function(){};t.prototype.destroy=function(){this.stopListening()};return t}();t("C",is);ho(is,eo);function os(t){t.return=false;t.stop()}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var as=function(){function t(t,e,r){this.view=t;this.document=t.document;this.domEvent=e;this.domTarget=e.target;Xe(this,r)}Object.defineProperty(t.prototype,"target",{get:function(){return this.view.domConverter.mapDomToView(this.domTarget)},enumerable:false,configurable:true});t.prototype.preventDefault=function(){this.domEvent.preventDefault()};t.prototype.stopPropagation=function(){this.domEvent.stopPropagation()};return t}();
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var ss=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;r.useCapture=false;return r}e.prototype.observe=function(t){var e=this;var r=typeof this.domEventType=="string"?[this.domEventType]:this.domEventType;r.forEach((function(r){e.listenTo(t,r,(function(t,r){if(e.isEnabled&&!e.checkShouldIgnoreEventFromTarget(r.target)){e.onDomEvent(r)}}),{useCapture:e.useCapture})}))};e.prototype.fire=function(t,e,r){if(this.isEnabled){this.document.fire(t,new as(this.view,e,r))}};return e}(_o);
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var us=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;r.domEventType="mousedown";return r}e.prototype.onDomEvent=function(t){this.fire(t.type,t)};return e}(ss);t("M",us);
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var ls=navigator.userAgent.toLowerCase();var cs=t("r",{isMac:fs(ls),isGecko:hs(ls),isSafari:ps(ls),isAndroid:ds(ls),isBlink:vs(ls),features:{isRegExpUnicodePropertySupported:bs()}});function fs(t){return t.indexOf("macintosh")>-1}function hs(t){return!!t.match(/gecko\/\d+/)}function ps(t){return t.indexOf(" applewebkit/")>-1&&t.indexOf("chrome")===-1}function ds(t){return t.indexOf("android")>-1}function vs(t){return t.indexOf("chrome/")>-1&&t.indexOf("edge/")<0}function bs(){var t=false;try{t="".search(new RegExp("[\\p{L}]","u"))===0}catch(e){}return t}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var gs={"":"ctrl","":"shift","":"alt"};var ms={ctrl:"",shift:"",alt:""};var ws=t("m",Os());function ys(t){var e;if(typeof t=="string"){e=ws[t.toLowerCase()];if(!e){throw new s("keyboard-unknown-key",null,{key:t})}}else{e=t.keyCode+(t.altKey?ws.alt:0)+(t.ctrlKey?ws.ctrl:0)+(t.shiftKey?ws.shift:0)}return e}function _s(t){if(typeof t=="string"){t=Ts(t)}return t.map((function(t){return typeof t=="string"?ys(t):t})).reduce((function(t,e){return e+t}),0)}function ks(t){if(!cs.isMac){return t}return Ts(t).map((function(t){return ms[t.toLowerCase()]||t})).reduce((function(t,e){if(t.slice(-1)in gs){return t+e}else{return t+"+"+e}}))}function Es(t){return t==ws.arrowright||t==ws.arrowleft||t==ws.arrowup||t==ws.arrowdown}function js(t,e){var r=e==="ltr";switch(t){case ws.arrowleft:return r?"left":"right";case ws.arrowright:return r?"right":"left";case ws.arrowup:return"up";case ws.arrowdown:return"down"}}function xs(t,e){var r=js(t,e);return r==="down"||r==="right"}function Os(){var t={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448};for(var e=65;e<=90;e++){var r=String.fromCharCode(e);t[r.toLowerCase()]=e}for(var e=48;e<=57;e++){t[e-48]=e}for(var e=112;e<=123;e++){t["f"+(e-111)]=e}return t}function Ts(t){return t.split(/\s*\+\s*/)}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var As=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;r.set("text","");r.set("position","s");var n=r.bindTemplate;r.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",n.to("position",(function(t){return"ck-tooltip_"+t})),n.if("text","ck-hidden",(function(t){return!t.trim()}))]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:n.to("text")}]}]});return r}return e}(oa);
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var Is=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;var n=r.bindTemplate;var o=i();r.set("class");r.set("labelStyle");r.set("icon");r.set("isEnabled",true);r.set("isOn",false);r.set("isVisible",true);r.set("isToggleable",false);r.set("keystroke");r.set("label");r.set("tabindex",-1);r.set("tooltip");r.set("tooltipPosition","s");r.set("type","button");r.set("withText",false);r.set("withKeystroke",false);r.children=r.createCollection();r.tooltipView=r._createTooltipView();r.labelView=r._createLabelView(o);r.iconView=new aa;r.iconView.extendTemplate({attributes:{class:"ck-button__icon"}});r.keystrokeView=r._createKeystrokeView();r.bind("_tooltipString").to(r,"tooltip",r,"label",r,"keystroke",r._getTooltipString.bind(r));r.setTemplate({tag:"button",attributes:{class:["ck","ck-button",n.to("class"),n.if("isEnabled","ck-disabled",(function(t){return!t})),n.if("isVisible","ck-hidden",(function(t){return!t})),n.to("isOn",(function(t){return t?"ck-on":"ck-off"})),n.if("withText","ck-button_with-text"),n.if("withKeystroke","ck-button_with-keystroke")],type:n.to("type",(function(t){return t?t:"button"})),tabindex:n.to("tabindex"),"aria-labelledby":"ck-editor__aria-label_"+o,"aria-disabled":n.if("isEnabled",true,(function(t){return!t})),"aria-pressed":n.to("isOn",(function(t){return r.isToggleable?String(t):false}))},children:r.children,on:{mousedown:n.to((function(t){t.preventDefault()})),click:n.to((function(t){if(r.isEnabled){r.fire("execute")}else{t.preventDefault()}}))}});return r}e.prototype.render=function(){t.prototype.render.call(this);if(this.icon){this.iconView.bind("content").to(this,"icon");this.children.add(this.iconView)}this.children.add(this.tooltipView);this.children.add(this.labelView);if(this.withKeystroke){this.children.add(this.keystrokeView)}};e.prototype.focus=function(){this.element.focus()};e.prototype._createTooltipView=function(){var t=new As;t.bind("text").to(this,"_tooltipString");t.bind("position").to(this,"tooltipPosition");return t};e.prototype._createLabelView=function(t){var e=new oa;var r=this.bindTemplate;e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:r.to("labelStyle"),id:"ck-editor__aria-label_"+t},children:[{text:this.bindTemplate.to("label")}]});return e};e.prototype._createKeystrokeView=function(){var t=new oa;t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",(function(t){return ks(t)}))}]});return t};e.prototype._getTooltipString=function(t,e,r){if(t){if(typeof t=="string"){return t}else{if(r){r=ks(r)}if(t instanceof Function){return t(e,r)}else{return""+e+(r?" ("+r+")":"")}}}return""};return e}(oa);t("B",Is);
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function Ps(t){var e=t.emitter,r=t.activator,n=t.callback,i=t.contextElements;e.listenTo(document,"mousedown",(function(t,e){if(!r()){return}var o=typeof e.composedPath=="function"?e.composedPath():[];for(var a=0,s=i;a<s.length;a++){var u=s[a];if(u.contains(e.target)||o.includes(u)){return}}n()}))}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var Ss=function(){function t(){this.set("isFocused",false);this.set("focusedElement",null);this._elements=new Set;this._nextEventLoopTimeout=null}t.prototype.add=function(t){var e=this;if(this._elements.has(t)){throw new s("focustracker-add-element-already-exist",this)}this.listenTo(t,"focus",(function(){return e._focus(t)}),{useCapture:true});this.listenTo(t,"blur",(function(){return e._blur()}),{useCapture:true});this._elements.add(t)};t.prototype.remove=function(t){if(t===this.focusedElement){this._blur(t)}if(this._elements.has(t)){this.stopListening(t);this._elements.delete(t)}};t.prototype.destroy=function(){this.stopListening()};t.prototype._focus=function(t){clearTimeout(this._nextEventLoopTimeout);this.focusedElement=t;this.isFocused=true};t.prototype._blur=function(){var t=this;clearTimeout(this._nextEventLoopTimeout);this._nextEventLoopTimeout=setTimeout((function(){t.focusedElement=null;t.isFocused=false}),0)};return t}();t("F",Ss);ho(Ss,mo);ho(Ss,eo);
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var Cs=function(){function t(){this._listener=Object.create(mo)}t.prototype.listenTo=function(t){var e=this;this._listener.listenTo(t,"keydown",(function(t,r){e._listener.fire("_keydown:"+ys(r),r)}))};t.prototype.set=function(t,e,r){if(r===void 0){r={}}var n=_s(t);var i=r.priority;this._listener.listenTo(this._listener,"_keydown:"+n,(function(t,r){e(r,(function(){r.preventDefault();r.stopPropagation();t.stop()}));t.return=true}),{priority:i})};t.prototype.press=function(t){return!!this._listener.fire("_keydown:"+ys(t),t)};t.prototype.destroy=function(){this._listener.stopListening()};return t}();t("K",Cs);
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var Ms=function(t){__extends(e,t);function e(e,r,n){var i=t.call(this,e)||this;var o=i.bindTemplate;i.buttonView=r;i.panelView=n;i.set("isOpen",false);i.set("isEnabled",true);i.set("class");i.set("id");i.set("panelPosition","auto");i.keystrokes=new Cs;i.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",o.to("class"),o.if("isEnabled","ck-disabled",(function(t){return!t}))],id:o.to("id"),"aria-describedby":o.to("ariaDescribedById")},children:[r,n]});r.extendTemplate({attributes:{class:["ck-dropdown__button"]}});return i}e.prototype.render=function(){var r=this;t.prototype.render.call(this);this.listenTo(this.buttonView,"open",(function(){r.isOpen=!r.isOpen}));this.panelView.bind("isVisible").to(this,"isOpen");this.on("change:isOpen",(function(){if(!r.isOpen){return}if(r.panelPosition==="auto"){r.panelView.position=e._getOptimalPosition({element:r.panelView.element,target:r.buttonView.element,fitInViewport:true,positions:r._panelPositions}).name}else{r.panelView.position=r.panelPosition}}));this.keystrokes.listenTo(this.element);var n=function(t,e){if(r.isOpen){r.buttonView.focus();r.isOpen=false;e()}};this.keystrokes.set("arrowdown",(function(t,e){if(r.buttonView.isEnabled&&!r.isOpen){r.isOpen=true;e()}}));this.keystrokes.set("arrowright",(function(t,e){if(r.isOpen){e()}}));this.keystrokes.set("arrowleft",n);this.keystrokes.set("esc",n)};e.prototype.focus=function(){this.buttonView.focus()};Object.defineProperty(e.prototype,"_panelPositions",{get:function(){var t=e.defaultPanelPositions,r=t.south,n=t.north,i=t.southEast,o=t.southWest,a=t.northEast,s=t.northWest,u=t.southMiddleEast,l=t.southMiddleWest,c=t.northMiddleEast,f=t.northMiddleWest;if(this.locale.uiLanguageDirection!=="rtl"){return[i,o,u,l,r,a,s,c,f,n]}else{return[o,i,l,u,r,s,a,f,c,n]}},enumerable:false,configurable:true});return e}(oa);t("N",Ms);Ms.defaultPanelPositions={south:function(t,e){return{top:t.bottom,left:t.left-(e.width-t.width)/2,name:"s"}},southEast:function(t){return{top:t.bottom,left:t.left,name:"se"}},southWest:function(t,e){return{top:t.bottom,left:t.left-e.width+t.width,name:"sw"}},southMiddleEast:function(t,e){return{top:t.bottom,left:t.left-(e.width-t.width)/4,name:"sme"}},southMiddleWest:function(t,e){return{top:t.bottom,left:t.left-(e.width-t.width)*3/4,name:"smw"}},north:function(t,e){return{top:t.top-e.height,left:t.left-(e.width-t.width)/2,name:"n"}},northEast:function(t,e){return{top:t.top-e.height,left:t.left,name:"ne"}},northWest:function(t,e){return{top:t.top-e.height,left:t.left-e.width+t.width,name:"nw"}},northMiddleEast:function(t,e){return{top:t.top-e.height,left:t.left-(e.width-t.width)/4,name:"nme"}},northMiddleWest:function(t,e){return{top:t.top-e.height,left:t.left-(e.width-t.width)*3/4,name:"nmw"}}};Ms._getOptimalPosition=ba;
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var Ns=function(){function t(t){var e=this;Object.assign(this,t);if(t.actions&&t.keystrokeHandler){var r=function(r){var n=t.actions[r];if(typeof n=="string"){n=[n]}for(var i=0,o=n;i<o.length;i++){var a=o[i];t.keystrokeHandler.set(a,(function(t,n){e[r]();n()}))}};for(var n in t.actions){r(n)}}}Object.defineProperty(t.prototype,"first",{get:function(){return this.focusables.find(Ls)||null},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"last",{get:function(){return this.focusables.filter(Ls).slice(-1)[0]||null},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"next",{get:function(){return this._getFocusableItem(1)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"previous",{get:function(){return this._getFocusableItem(-1)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"current",{get:function(){var t=this;var e=null;if(this.focusTracker.focusedElement===null){return null}this.focusables.find((function(r,n){var i=r.element===t.focusTracker.focusedElement;if(i){e=n}return i}));return e},enumerable:false,configurable:true});t.prototype.focusFirst=function(){this._focus(this.first)};t.prototype.focusLast=function(){this._focus(this.last)};t.prototype.focusNext=function(){this._focus(this.next)};t.prototype.focusPrevious=function(){this._focus(this.previous)};t.prototype._focus=function(t){if(t){t.focus()}};t.prototype._getFocusableItem=function(t){var e=this.current;var r=this.focusables.length;if(!r){return null}if(e===null){return this[t===1?"first":"last"]}var n=(e+r+t)%r;do{var i=this.focusables.get(n);if(Ls(i)){return i}n=(n+r+t)%r}while(n!==e);return null};return t}();t("w",Ns);function Ls(t){return!!(t.focus&&da.window.getComputedStyle(t.element).display!="none")}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var Ds=100;var Vs=function(){function t(t){this._callback=t;this._elements=new Set;this._previousRects=new Map;this._periodicCheckTimeout=null}t.prototype.observe=function(t){this._elements.add(t);this._checkElementRectsAndExecuteCallback();if(this._elements.size===1){this._startPeriodicCheck()}};t.prototype.unobserve=function(t){this._elements.delete(t);this._previousRects.delete(t);if(!this._elements.size){this._stopPeriodicCheck()}};t.prototype._startPeriodicCheck=function(){var t=this;var e=function(){t._checkElementRectsAndExecuteCallback();t._periodicCheckTimeout=setTimeout(e,Ds)};this.listenTo(da.window,"resize",(function(){t._checkElementRectsAndExecuteCallback()}));this._periodicCheckTimeout=setTimeout(e,Ds)};t.prototype._stopPeriodicCheck=function(){clearTimeout(this._periodicCheckTimeout);this.stopListening();this._previousRects.clear()};t.prototype._checkElementRectsAndExecuteCallback=function(){var t=[];for(var e=0,r=this._elements;e<r.length;e++){var n=r[e];if(this._hasRectChanged(n)){t.push({target:n,contentRect:this._previousRects.get(n)})}}if(t.length){this._callback(t)}};t.prototype._hasRectChanged=function(t){if(!t.ownerDocument.body.contains(t)){return false}var e=new fa(t);var r=this._previousRects.get(t);var n=!r||!r.isEqual(e);this._previousRects.set(t,e);return n};return t}();ho(Vs,mo)}}}));