var __spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,i=0,t=arguments.length;i<t;i++)e+=arguments[i].length;for(var n=Array(e),o=0,i=0;i<t;i++)for(var l=arguments[i],r=0,s=l.length;r<s;r++,o++)n[o]=l[r];return n};System.register(["./p-15492b4f.system.js"],(function(e){"use strict";var i,t,n,o;return{setters:[function(e){i=e.r;t=e.c;n=e.h;o=e.H}],execute:function(){var l="*{-webkit-box-sizing:border-box;box-sizing:border-box}.filter-file-input__field{padding-top:0.8rem;padding-bottom:0.8rem;padding-left:1.6rem;padding-right:1.6rem;padding-right:40px;min-height:40px}.filter-file-input__field-option{margin:0;padding:0;display:none;visibility:hidden;color:var(--neutral-03);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.filter-file-input__field-option--is-selected{display:block;visibility:visible}.filter-file-input__placeholder{color:var(--neutral-02);display:block;visibility:visible;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.filter-file-input__placeholder--is-hidden{display:none;visibility:hidden}.filter-file-input__options{position:absolute;width:100%;background-color:var(--neutral-04);border-radius:0.4rem;overflow:auto;padding:0;margin:0;left:0;top:calc(100% + 8px);-webkit-box-shadow:0 4px 16px -8px rgba(0, 0, 0, 0.5);box-shadow:0 4px 16px -8px rgba(0, 0, 0, 0.5);max-height:208px;display:none;z-index:1}.filter-file-input__options--is-active{display:block}.filter-file-input__options--top{bottom:calc(100% + 8px);top:auto}.filter-file-input__option{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;min-height:40px;font-size:14px;line-height:20px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:10px 1.6rem}.filter-file-input__option:hover,.filter-file-input__option--hover{background-color:var(--background-01)}.filter-file-input__option--is-selected{background-color:var(--background-02);color:var(--neutral-03);font-weight:700;-webkit-transition-property:all;transition-property:all}.filter-file-input__option--is-selected:hover{background-color:var(--background-02)}.filter-file-input__option--is-disabled{color:var(--disabled-text)}.filter-file-input__option--is-disabled:hover{cursor:not-allowed;background:transparent}.filter-file-input__option-checkbox{margin-right:1.6rem}.filter-file-input__label{padding-top:0.4rem;padding-bottom:0.4rem;font-size:1.1rem;font-weight:900;color:var(--neutral-03);display:block}.filter-file-input__input--is-hidden{visibility:hidden;position:absolute;z-index:-2}.filter-file-input__dot-wrapper{display:inline-block}.filter-file-input__dot-wrapper--is-hidden{display:none}.filter-file-input__dot-list{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:-4px}.filter-file-input__dot-item{background-color:var(--background-01);display:-ms-flexbox;display:flex;-ms-flex-align:end;align-items:flex-end;border-radius:10px;padding:0.2rem 0.8rem 0.2rem 1.2rem;margin:4px}.filter-file-input__dot-text{font-size:1.1rem;vertical-align:middle}.filter-file-input__dot-delete{display:-ms-inline-flexbox;display:inline-flex;margin-left:0.8rem;vertical-align:text-bottom}.filter-file-input__dot-delete cc-icon{display:-ms-inline-flexbox;display:inline-flex;color:inherit}.filter-file-input__icon--inverted{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.filter-file-input cc-input{display:inline-block}.filter-file-input cc-input .input__field{padding:0}";var r=e("cc_filter_select_input",function(){function e(e){var n=this;i(this,e);this.changeChoice=t(this,"changeChoice",7);this._choices=[];this.isOpenDropdown=false;this.thereIsLowerSpace=false;this.positionOptionstop=false;this.valueInput="";this.selectedChoices=[];this.hoveredChoice="";this.label="";this.error=false;this.disabled=false;this.fieldReadonly=false;this.placeholder="";this.name="";this.currentValue="";this.iconName="chevron-down";this.color="primary";this.border=true;this.bgField="";this.loader=false;this.IconRotate=true;this.updateChoicesList=function(e){n.selectedChoices=n.selectedChoices.includes(e)?n.selectedChoices.filter((function(i){return i!==e})):__spreadArrays(n.selectedChoices,[e]);n.changeChoice.emit(n.selectedChoices)};this.setInputText=function(e){var i=e.target.value;n.valueInput=i;n.valueInput.length?n.handleShowOptions():false};this.focusInput=function(){if(n.isOpenDropdown)n.inputEl.focus()};this.removeFocus=function(){if(!n.isOpenDropdown)n.inputEl.blur()};this.clearInputValue=function(){n.valueInput=""};this.knowIfThereIsASelected=function(){return n.selectedChoices.length>0};this.handleOptionClick=function(e){n.updateChoicesList(e);n.clearInputValue();n.focusInput()};this.filteredChoices=function(){var e=n.valueInput.length?n._choices.filter((function(e){var i=e.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");var t=n.valueInput.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return i.includes(t)})):n._choices;return e};this.placeholderSelected=function(){n.clearChoices();n.handleHideOptions();n.changeChoice.emit(null)};this.handleShowOptions=function(){n.isOpenDropdown=true;n.hoveredChoice=n._choices[0].value};this.handleHideOptions=function(){n.isOpenDropdown=false};this.handleRemoveItemSelected=function(e){n.updateChoicesList(e);n.focusInput()};this.closeDroprownIfClickOutDropdown=function(e){var i=n.singleFileInput;var t=e.target;if(!i.contains(t)){return n.removeFocus(),n.handleHideOptions(),n.clearInputValue()}};this.getHeigthWrapperOptions=function(){return n.dropdownItems.getBoundingClientRect().height};this.observerListItems=function(){var e={attributes:true,childList:false,characterData:false};n.observerItems=new MutationObserver((function(e){e.forEach((function(e){if(e.type==="attributes"){n.calculatePositionOfOptions();n.focusInput();n.removeFocus()}}))}));n.observerItems.observe(n.dropdownItems,e)};this.calculatePositionOfOptions=function(){if(n.isOpenDropdown){var e=n.singleFileInput;var i=n.dropdownItems;var t=document.body.getBoundingClientRect().height;var o=i.getBoundingClientRect().height;var l=e.getBoundingClientRect().height;var r=e.getBoundingClientRect().top;var s=8;var c=r+l+s+o;return n.positionOptionstop=t<c}n.positionOptionstop=false};this.validateDisabled=function(){if(!n.disabled){n.handleShowOptions()}}}e.prototype.setChoices=function(e,i){var t=JSON.stringify(e);var n=JSON.stringify(i);if(t!==n){this._choices=e;this.selectedChoices=this._choices.filter((function(e){return e.selected})).map((function(e){return e.value}))}};e.prototype.handleKeyDown=function(e){var i=this;if(this.isOpenDropdown){var t=this._choices.findIndex((function(e){return e.value===i.hoveredChoice}));var n=function(e,i){e.scrollIntoViewIfNeeded(i)};var o=function(e){return i._choices.findIndex((function(i){return i.value===e}))};var l=this._choices.find((function(e,i){return i>t&&!e.disabled}));var r=this._choices.filter((function(e,i){return i<t&&!e.disabled})).pop();switch(e.key){case"ArrowDown":if(l){this.hoveredChoice=l.value;n(this.dropdownItems.querySelectorAll(".filter-file-input__option")[o(l.value)],false)}break;case"ArrowUp":if(r){this.hoveredChoice=r.value;n(this.dropdownItems.querySelectorAll(".filter-file-input__option")[o(r.value)],true)}break;case"Enter":this.handleOptionClick(this.hoveredChoice);break;case"Backspace":if(!this.valueInput.length&&this.selectedChoices.length){var s=__spreadArrays(this.selectedChoices);var c=s.pop();var a=this._choices.find((function(e){return e.value===c}));if(!(a===null||a===void 0?void 0:a.disableRemove))this.selectedChoices=s}break}}};e.prototype.clearChoices=function(){var e=__spreadArrays(this._choices);e.map((function(e){return e.selected=false}));this._choices=e};e.prototype.validateShowPlaceholder=function(){return this.isOpenDropdown||this.knowIfThereIsASelected()};e.prototype.handleToogleOptions=function(){this.isOpenDropdown=!this.isOpenDropdown;this.calculatePositionOfOptions()};e.prototype.componentWillLoad=function(){this._choices=__spreadArrays(this.choices);this.selectedChoices=this._choices.filter((function(e){return e.selected})).map((function(e){return e.value}));document.addEventListener("click",this.closeDroprownIfClickOutDropdown)};e.prototype.componentDidLoad=function(){this.observerListItems()};e.prototype.componentDidUnload=function(){if(this.observerItems)this.observerItems.disconnect();document.removeEventListener("click",this.closeDroprownIfClickOutDropdown)};e.prototype.render=function(){var e=this;var i={disabled:this.disabled,loader:this.loader,fieldReadonly:this.fieldReadonly,color:this.color,error:this.error,border:this.border,bgField:this.bgField,isActive:this.isOpenDropdown,iconRotate:this.IconRotate,iconName:this.iconName,helperText:this.helperText};return n(o,{"data-testid":"cc-filter-file-input",class:"filter-file-input"},this.label&&n("span",{class:"filter-file-input__label"},this.label),n("cc-wrapper-field",Object.assign({ref:function(i){return e.singleFileInput=i},class:{"filter-file-input__wrapper":true,"filter-file-input--is-collapse":this.isOpenDropdown}},i),n("div",{class:"filter-file-input__field",onClick:this.validateDisabled},n("div",{class:{"filter-file-input__dot-wrapper":true,"filter-file-input__dot-wrapper--is-hidden":!this.knowIfThereIsASelected()}},n("ul",{class:"filter-file-input__dot-list"},this.selectedChoices.map((function(i){return e._choices.find((function(e){return e.value===i}))})).map((function(i){return n("li",{class:"filter-file-input__dot-item"},n("div",{class:"filter-file-input__dot-text"},i.label,n("div",{onClick:function(){return i.disableRemove?null:e.handleRemoveItemSelected(i.value)},class:"filter-file-input__dot-delete"},n("cc-icon",{size:12,name:"x"}))))})))),n("p",{class:{"filter-file-input__placeholder":true,"filter-file-input__placeholder--is-hidden":this.validateShowPlaceholder()}},this.placeholder),n("cc-input",{style:{width:this.valueInput.length+1+"ch",maxWidth:"100%"},bgField:"bg-transparent",onInput:function(i){return e.setInputText(i)},border:false,value:this.valueInput,inputRef:function(i){return e.inputEl=i},class:{"filter-file-input__input":true,"filter-file-input__input--is-hidden":!this.validateShowPlaceholder()}})),n("ul",{ref:function(i){return e.dropdownItems=i},class:{"filter-file-input__options":true,"filter-file-input__options--is-active":this.isOpenDropdown,"filter-file-input__options--top":this.positionOptionstop}},this.filteredChoices().length===0&&n("li",{class:{"filter-file-input__placeholder":true,"filter-file-input__option":true}},"No se encontraron resultados"),this.filteredChoices().map((function(i){return Object.assign(Object.assign({},i),{selected:e.selectedChoices.includes(i.value)})})).map((function(i){return n("li",{onClick:function(){return i.disabled||i.disableRemove?null:e.handleOptionClick(i.value)},class:{"filter-file-input__option":true,"filter-file-input__option--is-selected":i.selected,"filter-file-input__option--is-disabled":i.disabled,"filter-file-input__option--hover":i.value===e.hoveredChoice}},e.type==="checkbox"&&n("cc-checkfield",{class:"filter-file-input__option-checkbox",type:"checkbox",shape:"square",color:e.color,checked:i.selected}),n("span",null,i.label))})))))};Object.defineProperty(e,"watchers",{get:function(){return{choices:["setChoices"]}},enumerable:false,configurable:true});return e}());r.style=l}}}));